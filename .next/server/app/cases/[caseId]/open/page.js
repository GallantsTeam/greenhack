(()=>{var e={};e.id=9827,e.ids=[9827],e.modules={2711:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var a=r(60687),s=r(43210),i=r(16189),n=r(30474),l=r(29523),o=r(44493),d=r(63503),c=r(3662),m=r(36558),p=r(11516),u=r(72963),h=r(55817),x=r(19379);let f=(0,r(82614).A)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);var g=r(24482),y=r(29867),b=r(63213);r(92510);var v=r(56896),w=r(80013),j=r(85814),N=r.n(j);let _=({endsAt:e,onTimerEnd:t})=>{let[r,i]=(0,s.useState)(null);return((0,s.useEffect)(()=>{if(!e){i(null);return}let r=()=>{let r=+new Date(e)-+new Date,a=null;if(r>0){let e=Math.floor(r/864e5),t=Math.floor(r/36e5%24),s=Math.floor(r/1e3/60%60),i=Math.floor(r/1e3%60);a=`${e>0?e+"д ":""}${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}else a="Время истекло!",t&&t();i(a)};r();let a=setInterval(r,1e3);return()=>clearInterval(a)},[e,t]),r)?"Время истекло!"===r?(0,a.jsx)("p",{className:"text-sm font-semibold text-destructive text-center mt-2",children:r}):(0,a.jsxs)("div",{className:"text-center mt-2",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"До конца:"}),(0,a.jsx)("p",{className:"text-lg font-bold text-primary",children:r})]}):null};function k(){let e=(0,i.useParams)(),t=(0,i.useRouter)();e.caseId;let{toast:r}=(0,y.dj)(),{currentUser:j,fetchUserDetails:k}=(0,b.A)(),[M,A]=(0,s.useState)(null),[z,C]=(0,s.useState)(!0),[S,P]=(0,s.useState)(null),[$,I]=(0,s.useState)(!1),[R,E]=(0,s.useState)(null),[G,L]=(0,s.useState)(!1),[O,q]=(0,s.useState)([]),[H,T]=(0,s.useState)([]),F=(0,s.useRef)(null),[D,U]=(0,s.useState)(0),[B,W]=(0,s.useState)(null),[Z,K]=(0,s.useState)(!1),[X,J]=(0,s.useState)(!1),[Y,Q]=(0,s.useState)([]),V=(e,t)=>{q(r=>t?[...r,e]:r.filter(t=>t.id!==e.id))},ee=async()=>{if(!$&&H.length&&F.current&&j&&M){if(X){r({title:"Время вышло",description:"К сожалению, время для открытия этого кейса истекло.",variant:"destructive"});return}if(j.balance<D){r({title:"Недостаточно средств",description:`Требуется ${D.toFixed(2)} GH. Ваш баланс: ${j.balance.toFixed(2)} GH`,variant:"destructive"});return}I(!0),E(null),L(!1),W(null);try{let e=await fetch("/api/case/open",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:j.id,caseId:M.id,selectedBoostIds:O.map(e=>e.id)})}),t=await e.json();if(!e.ok){r({title:"Ошибка открытия",description:t.message||"Не удалось открыть кейс.",variant:"destructive"}),t.updatedUser&&j&&k&&k(j.id),I(!1);return}let a=t.winningPrize;E(a),W(t.caseOpeningId),t.updatedUser&&j&&k&&k(j.id);let s=F.current,i=H.reduce((e,t,r)=>(t.id===a.id&&e.push(r),e),[]),n=-1;if(i.length>0){let e=Math.floor(.6*H.length),t=i.filter(t=>t>=e);n=t.length>0?t[Math.floor(Math.random()*t.length)]:i[Math.floor(Math.random()*i.length)]}else console.error(`CRITICAL: Server winning prize ID ${a.id} (${a.name}) not found in client-side rouletteItems. This indicates a data mismatch. Stopping at a random item.`),n=Math.floor(H.length/2)+Math.floor(10*Math.random()-5),n=Math.max(0,Math.min(n,H.length-1));n=H.length>10?Math.max(5,Math.min(n,H.length-5-1)):H.length>0?Math.max(0,Math.min(n,H.length-1)):0;let l=s.offsetWidth/2-54,o=108*n-l,d=7e3+2e3*Math.random(),c=s.scrollLeft,m=5+Math.floor(3*Math.random()),p=H.length/14*108,u=p*m+(o-c);o<c&&Math.abs(o-c)<p&&(u+=p);let h=performance.now(),x=e=>1-Math.pow(1-e,4),f=e=>{let t=(e-h)/d;t=Math.min(t,1);let r=x(t);s.scrollLeft=c+u*r,t<1?requestAnimationFrame(f):(s.scrollTo({left:o,behavior:"smooth"}),setTimeout(()=>{L(!0),I(!1)},400))};requestAnimationFrame(f)}catch(e){console.error("Spin error:",e),r({title:"Ошибка",description:"Произошла ошибка при открытии кейса.",variant:"destructive"}),I(!1)}}},et=()=>{if(E(null),L(!1),W(null),F.current&&H.length>0){let e=Math.floor(H.length/3),t=Math.floor(Math.random()*e),r=Math.max(0,(e+t)*108-F.current.offsetWidth/2+54);F.current.scrollTo({left:r,behavior:"auto"})}},er=async()=>{if(j&&B&&R){K(!0);try{let e=await fetch("/api/prize/claim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:j.id,caseOpeningId:B,prize:R})}),t=await e.json();if(!e.ok)throw Error(t.message||"Failed to claim prize");j?.id&&await k(j.id),r({title:"balance_gh"===R.prize_type?"Баланс пополнен!":"Приз добавлен в инвентарь!",description:t.message,variant:"default",action:"balance_gh"!==R.prize_type?(0,a.jsx)(l.$,{variant:"link",size:"sm",asChild:!0,className:"text-primary",children:(0,a.jsx)(N(),{href:"/account/inventory",children:"В инвентарь"})}):(0,a.jsx)(c.A,{className:"text-primary"})})}catch(e){r({title:"Ошибка",description:e.message,variant:"destructive"})}finally{K(!1),et()}}},ea=async()=>{if(j&&B&&R&&"number"==typeof R.sell_value_gh){K(!0);try{let e=await fetch("/api/prize/sell",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:j.id,caseOpeningId:B,prize:R})}),t=await e.json();if(!e.ok)throw Error(t.message||"Failed to sell prize");t.updatedUser&&j&&k&&k(j.id),r({title:"Приз продан!",description:t.message,variant:"default",action:(0,a.jsx)(m.A,{className:"text-primary"})})}catch(e){r({title:"Ошибка",description:e.message,variant:"destructive"})}finally{K(!1),et()}}};return z?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 flex flex-col items-center justify-center min-h-[calc(100vh-var(--header-height)-var(--footer-height))]",children:[(0,a.jsx)(p.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,a.jsx)("p",{className:"mt-4 text-lg text-muted-foreground",children:"Загрузка кейса..."})]}):S||!M?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center",children:[(0,a.jsx)(u.A,{className:"mx-auto h-12 w-12 text-destructive mb-4"}),(0,a.jsx)("p",{className:"text-lg text-destructive-foreground",children:S||"Кейс не найден."}),(0,a.jsx)(l.$,{asChild:!0,variant:"outline",className:"mt-6 border-primary text-primary hover:bg-primary/10",children:(0,a.jsxs)(N(),{href:"/",children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"На главную"]})})]}):(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background text-foreground p-2 md:p-4 overflow-hidden",children:(0,a.jsxs)(o.Zp,{className:"w-full max-w-4xl bg-card border-border shadow-2xl rounded-xl overflow-hidden my-4",children:[(0,a.jsxs)(o.aR,{className:"p-4 border-b border-border/50 flex flex-row items-center justify-between bg-card/80 backdrop-blur-sm",children:[(0,a.jsxs)(l.$,{variant:"ghost",size:"icon",onClick:()=>t.back(),className:"text-muted-foreground hover:text-primary",children:[(0,a.jsx)(h.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Назад"})]}),(0,a.jsx)(o.ZB,{className:"text-xl md:text-2xl font-semibold text-primary text-center uppercase tracking-wider",children:M.name}),(0,a.jsx)("div",{className:"w-9 h-9",children:" "})]}),(0,a.jsxs)(o.Wu,{className:"p-3 md:p-6 space-y-3 md:space-y-4 flex flex-col items-center",children:[(0,a.jsx)("div",{className:"relative w-40 h-40 md:w-48 md:h-48 mb-2",children:(0,a.jsx)(n.default,{src:M.imageUrl||"https://placehold.co/300x300.png?text=Case",alt:M.name,layout:"fill",objectFit:"contain",className:"rounded-md","data-ai-hint":M.data_ai_hint||"case image",priority:!0})}),M.timer_enabled&&M.timer_ends_at&&(0,a.jsx)(_,{endsAt:M.timer_ends_at,onTimerEnd:()=>J(!0)}),H.length>0&&(0,a.jsxs)("div",{className:"relative w-full max-w-full roulette-container p-2 rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1 h-[calc(100%-1rem)] bg-primary rounded-full pointer-events-none z-10 roulette-marker shadow-[0_0_8px_2px_hsl(var(--primary)/0.7)]"}),(0,a.jsx)("div",{ref:F,className:"flex h-full overflow-x-auto no-scrollbar items-center",children:H.map(e=>(0,a.jsxs)("div",{className:"roulette-item flex-shrink-0 flex flex-col items-center justify-between p-1.5 mx-1.5 transition-all duration-300 transform-gpu rounded-lg bg-card/70 backdrop-blur-sm",style:{width:"100px",height:"120px"},children:[(0,a.jsx)("div",{className:"relative overflow-hidden prize-image-container rounded-full w-20 h-20 md:w-24 md:h-24 border-none",children:(0,a.jsx)(n.default,{src:e.imageUrl||"https://placehold.co/120x120.png",alt:e.name,layout:"fill",objectFit:"cover",className:"rounded-full border-none","data-ai-hint":e.data_ai_hint||"prize item icon"})}),(0,a.jsxs)("div",{className:"text-center w-full mt-auto",children:[(0,a.jsx)("p",{className:"text-[10px] md:text-xs text-center font-medium text-foreground truncate w-full px-1",title:e.name,children:e.name}),(0,a.jsx)("p",{className:"text-[9px] md:text-[10px] text-center text-primary/80 font-semibold",children:"product_duration"===e.prize_type&&e.duration_days?`${e.duration_days} дн.`:"balance_gh"===e.prize_type&&e.balance_gh_amount?`${e.balance_gh_amount} GH`:""})]})]},e.uniqueKey))})]}),(0,a.jsx)(d.lG,{open:G,onOpenChange:e=>{e||et()},children:(0,a.jsxs)(d.Cf,{className:"sm:max-w-md bg-card border-border/30 shadow-xl",children:[(0,a.jsxs)(d.c7,{className:"text-center",children:[(0,a.jsx)(d.L3,{className:"text-2xl font-bold text-primary mb-2",children:"Поздравляем!"}),(0,a.jsx)(d.rr,{className:"text-muted-foreground",children:"Вы выиграли:"})]}),R&&(0,a.jsxs)("div",{className:"flex flex-col items-center py-4 space-y-3",children:[(0,a.jsx)("div",{className:"relative overflow-hidden dialog-prize-image-container rounded-full w-32 h-32 md:w-40 md:h-40 border-none",children:(0,a.jsx)(n.default,{src:R.imageUrl||"https://placehold.co/150x150.png",alt:R.name,layout:"fill",objectFit:"cover",className:"rounded-full shadow-md border-none","data-ai-hint":R.data_ai_hint||"prize item large image"})}),(0,a.jsx)("p",{className:"text-xl font-bold text-foreground bg-primary/10 px-4 py-1 rounded-md shadow-inner",children:R.name}),(0,a.jsx)("p",{className:"text-sm text-primary/90 font-semibold",children:"product_duration"===R.prize_type&&R.duration_days?`${R.duration_days} дн.`:"balance_gh"===R.prize_type&&R.balance_gh_amount?`${R.balance_gh_amount} GH`:""})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 justify-center pt-2",children:[(0,a.jsxs)(l.$,{onClick:er,size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground flex-1 shadow-md",disabled:Z,children:[Z&&R?.prize_type!=="balance_gh"?(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4"}),R?.prize_type==="balance_gh"?"ОК (Баланс зачислен)":"Забрать"]}),R?.prize_type!=="balance_gh"&&R?.sell_value_gh&&R.sell_value_gh>0&&(0,a.jsxs)(l.$,{onClick:ea,variant:"outline",size:"sm",className:"border-primary text-primary hover:bg-primary/10 hover:text-primary/90 flex-1 shadow-sm",disabled:Z,children:[Z?(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Продать за ",R.sell_value_gh," GH"]})]}),(0,a.jsxs)(l.$,{onClick:et,variant:"ghost",size:"sm",className:"mt-3 text-primary hover:bg-primary/10 w-full",disabled:Z,children:[(0,a.jsx)(f,{className:"mr-2 h-4 w-4"})," Открыть еще"]})]})}),!G&&(0,a.jsxs)("div",{className:"w-full max-w-md mx-auto space-y-3 md:space-y-4 px-2 mt-3 md:mt-4",children:[Y.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h4",{className:"text-xs md:text-sm font-medium text-foreground/70 text-center uppercase tracking-wider mb-1",children:"Улучшить Шанс:"}),(0,a.jsx)("div",{className:"flex flex-row flex-wrap justify-center items-center gap-x-3 gap-y-1.5",children:Y.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.S,{id:`boost-${e.id}`,checked:O.some(t=>t.id===e.id),onCheckedChange:t=>V(e,!!t),className:"mr-1.5 h-4 w-4 border-primary/70 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",disabled:$||X||z}),(0,a.jsxs)(w.Label,{htmlFor:`boost-${e.id}`,className:"text-xs md:text-sm cursor-pointer flex items-baseline gap-1 text-foreground/80",children:[(0,a.jsx)("span",{children:e.label}),(0,a.jsxs)("span",{className:"text-icon-color/80 text-[10px] md:text-xs",children:["(",e.cost>0?`+${e.cost}GH`:"Беспл.",")"]})]})]},e.id))})]}),(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-2 justify-center pt-2 md:pt-3",children:(0,a.jsxs)(l.$,{onClick:ee,disabled:$||!H.length||!j||X||z||j&&j.balance<D,size:"lg",className:"w-full sm:w-auto sm:flex-1 max-w-[250px] bg-primary hover:bg-primary/90 text-primary-foreground shadow-md text-base h-11 md:h-12 py-2",children:[$?(0,a.jsx)(p.A,{className:"mr-2 h-5 w-5 animate-spin"}):(0,a.jsx)(g.A,{className:"mr-2 h-5 w-5"}),$?"Открывается...":`Открыть за ${D.toFixed(0)} GH`]})})]}),M.prizes&&M.prizes.length>0&&(0,a.jsxs)("div",{className:"w-full mt-4 md:mt-6 pt-3 md:pt-4 border-t border-border/30",children:[(0,a.jsx)("h4",{className:"text-base font-semibold text-muted-foreground text-center mb-2 md:mb-3",children:"Возможные призы в этом кейсе:"}),(0,a.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2 md:gap-3 max-h-56 overflow-y-auto p-1.5 rounded-md bg-muted/30 shadow-inner",children:M.prizes.map(e=>(0,a.jsxs)("div",{className:"flex flex-col items-center p-1.5 bg-card rounded-lg shadow-sm",children:[(0,a.jsx)("div",{className:"relative overflow-hidden prize-image-container rounded-full w-16 h-16 md:w-20 md:h-20 border-none",children:(0,a.jsx)(n.default,{src:e.imageUrl||"https://placehold.co/100x100.png",alt:e.name,layout:"fill",objectFit:"cover",className:"rounded-full border-none","data-ai-hint":e.data_ai_hint||"small prize icon"})}),(0,a.jsx)("p",{className:"text-xs text-center font-medium text-foreground/90 mt-1.5 truncate w-full",title:e.name,children:e.name}),(0,a.jsx)("p",{className:"text-[10px] text-center text-primary/80",children:e.duration_days?`${e.duration_days} дн.`:e.balance_gh_amount?`${e.balance_gh_amount} GH`:""})]},e.id))})]})]})]})})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3662:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(82614).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6897:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/var/www/html/src/app/cases/[caseId]/open/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/var/www/html/src/app/cases/[caseId]/open/page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18853:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var a=r(43210),s=r(66156);function i(e){let[t,r]=a.useState(void 0);return(0,s.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,s;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;r({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19379:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(82614).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},24482:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(82614).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},36558:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(82614).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},40211:(e,t,r)=>{"use strict";r.d(t,{C1:()=>k,bL:()=>_});var a=r(43210),s=r(98599),i=r(11273),n=r(70569),l=r(65551),o=r(83721),d=r(18853),c=r(46059),m=r(14163),p=r(60687),u="Checkbox",[h,x]=(0,i.A)(u),[f,g]=h(u),y=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:i,checked:o,defaultChecked:d,required:c,disabled:u,value:h="on",onCheckedChange:x,form:g,...y}=e,[b,v]=a.useState(null),_=(0,s.s)(t,e=>v(e)),k=a.useRef(!1),M=!b||g||!!b.closest("form"),[A=!1,z]=(0,l.i)({prop:o,defaultProp:d,onChange:x}),C=a.useRef(A);return a.useEffect(()=>{let e=b?.form;if(e){let t=()=>z(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[b,z]),(0,p.jsxs)(f,{scope:r,state:A,disabled:u,children:[(0,p.jsx)(m.sG.button,{type:"button",role:"checkbox","aria-checked":j(A)?"mixed":A,"aria-required":c,"data-state":N(A),"data-disabled":u?"":void 0,disabled:u,value:h,...y,ref:_,onKeyDown:(0,n.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.m)(e.onClick,e=>{z(e=>!!j(e)||!e),M&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),M&&(0,p.jsx)(w,{control:b,bubbles:!k.current,name:i,value:h,checked:A,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"},defaultChecked:!j(d)&&d})]})});y.displayName=u;var b="CheckboxIndicator",v=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:a,...s}=e,i=g(b,r);return(0,p.jsx)(c.C,{present:a||j(i.state)||!0===i.state,children:(0,p.jsx)(m.sG.span,{"data-state":N(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});v.displayName=b;var w=e=>{let{control:t,checked:r,bubbles:s=!0,defaultChecked:i,...n}=e,l=a.useRef(null),c=(0,o.Z)(r),m=(0,d.X)(t);a.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&t){let a=new Event("click",{bubbles:s});e.indeterminate=j(r),t.call(e,!j(r)&&r),e.dispatchEvent(a)}},[c,r,s]);let u=a.useRef(!j(r)&&r);return(0,p.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...n,tabIndex:-1,ref:l,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return"indeterminate"===e}function N(e){return j(e)?"indeterminate":e?"checked":"unchecked"}var _=y,k=v},44493:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>l,wL:()=>m});var a=r(60687),s=r(43210),i=r(4780);let n=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let l=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h3",{ref:r,className:(0,i.cn)("text-xl font-normal uppercase tracking-wider leading-none",e),...t}));o.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let m=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));m.displayName="CardFooter"},55817:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(82614).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},56896:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var a=r(60687),s=r(43210),i=r(40211),n=r(58450),l=r(4780);let o=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)(i.bL,{ref:r,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,a.jsx)(i.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})}));o.displayName=i.bL.displayName},58450:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(82614).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},59201:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(65239),s=r(48088),i=r(88170),n=r.n(i),l=r(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d={children:["",{children:["cases",{children:["[caseId]",{children:["open",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6897)),"/var/www/html/src/app/cases/[caseId]/open/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/var/www/html/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/var/www/html/src/app/cases/[caseId]/open/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/cases/[caseId]/open/page",pathname:"/cases/[caseId]/open",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},72963:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(82614).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},74581:(e,t,r)=>{Promise.resolve().then(r.bind(r,2711))},74722:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return i},normalizeRscURL:function(){return n}});let a=r(85531),s=r(35499);function i(e){return(0,a.ensureLeadingSlash)(e.split("/").reduce((e,t,r,a)=>!t||(0,s.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===a.length-1?e:e+"/"+t,""))}function n(e){return e.replace(/\.rsc($|\?)/,"$1")}},79551:e=>{"use strict";e.exports=require("url")},83394:(e,t,r)=>{Promise.resolve().then(r.bind(r,6897))},83721:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(43210);function s(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},85531:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},92510:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s,z:()=>a});let a=[{id:"no-boost",label:"Стандарт",cost:0,chanceMultiplier:1,description:"Базовый шанс."},{id:"boost10",label:"+10%",cost:10,chanceMultiplier:1.1,description:"Шанс x1.10"},{id:"boost50",label:"+50%",cost:100,chanceMultiplier:1.5,description:"Шанс x1.50"},{id:"boost70",label:"+70%",cost:1e3,chanceMultiplier:1.7,description:"Шанс x1.70"}],s="warface-allin"}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4447,6724,377,1658,4519],()=>r(59201));module.exports=a})();