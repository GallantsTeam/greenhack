(()=>{var e={};e.id=2959,e.ids=[2959],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3662:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(82614).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8760:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(82614).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14973:(e,r,t)=>{"use strict";t.d(r,{A:()=>h});var s=t(60687),a=t(30474),n=t(85814),o=t.n(n),i=t(44493),l=t(4780),d=t(3662),c=t(77368),u=t(14975),m=t(8760),p=t(96834),x=t(29523);let h=({product:e,className:r})=>{let t={safe:{text:"Безопасен",icon:d.A,glow:"primary",iconColor:"text-icon-color",badgeClass:"bg-primary/20 text-primary border-primary/40"},updating:{text:"На обновлении",icon:c.A,glow:"sky",iconColor:"text-sky-400",badgeClass:"bg-sky-500/20 text-sky-400 border-sky-500/40 animate-pulse"},risky:{text:"Не безопасен",icon:u.A,glow:"red",iconColor:"text-red-400",badgeClass:"bg-red-600/20 text-red-400 border-red-600/40"},unknown:{text:"На обновлении",icon:c.A,glow:"sky",iconColor:"text-sky-400",badgeClass:"bg-sky-500/20 text-sky-400 border-sky-500/40 animate-pulse"}},n=t[e.status]||t.unknown,h=n.icon,g=n.glow?({primary:"hover:shadow-[0_0_15px_3px_hsl(var(--icon-color-hsl)/0.4)] border-icon-color",orange:"hover:shadow-[0_0_15px_3px_rgba(251,146,60,0.4)] border-orange-500/70",red:"hover:shadow-[0_0_15px_3px_rgba(239,68,68,0.4)] border-red-500/70",sky:"hover:shadow-[0_0_15px_3px_rgba(56,189,248,0.4)] border-sky-500/70"})[n.glow]:"hover:border-icon-color/50",f=e=>"number"!=typeof e||null===e||isNaN(e)?"":e.toLocaleString("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:0});return(0,s.jsx)(i.Zp,{className:(0,l.cn)("overflow-hidden shadow-lg hover:shadow-primary/20 transition-all duration-300 ease-in-out transform hover:-translate-y-1 h-full flex flex-col border-2 border-card hover:border-icon-color/70 rounded-xl group",g,r),children:(0,s.jsxs)(o(),{href:`/products/${e.slug}`,className:"block flex flex-col flex-grow",children:[(0,s.jsxs)("div",{className:"relative w-full h-52 md:h-56 overflow-hidden",children:[(0,s.jsx)(a.default,{src:e.imageUrl||e.image_url||"https://placehold.co/400x300.png",alt:e.name,layout:"fill",objectFit:"cover",className:"transition-transform duration-500 ease-out group-hover:scale-110","data-ai-hint":e.data_ai_hint||`${e.name} game art`}),e.gameLogoUrl&&(0,s.jsx)("div",{className:"absolute top-3 right-3 bg-background/80 p-1.5 rounded-md shadow-md",children:(0,s.jsx)(a.default,{src:e.gameLogoUrl,alt:`${e.gameName||"Game"} logo`,width:28,height:28,"data-ai-hint":"game logo icon"})})]}),(0,s.jsxs)("div",{className:"p-4 flex flex-col flex-grow justify-between bg-card/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.ZB,{className:"text-lg md:text-xl font-semibold text-icon-color group-hover:text-primary transition-colors mb-1 truncate",title:e.name,children:e.name}),(0,s.jsxs)(p.E,{variant:n.badgeClass?.includes("primary")?"default":n.badgeClass?.includes("orange")||n.badgeClass?.includes("sky")?"secondary":n.badgeClass?.includes("red")?"destructive":"outline",className:(0,l.cn)("text-xs py-0.5 px-2 mb-2",n.badgeClass),children:[h&&(0,s.jsx)(h,{className:(0,l.cn)("h-3 w-3 mr-1",n.iconColor,"updating"===e.status||"unknown"===e.status?"animate-pulse":"")}),n.text]}),e.short_description&&(0,s.jsx)(i.Wu,{className:"text-xs md:text-sm text-muted-foreground mb-3 line-clamp-2 p-0",children:e.short_description})]}),(0,s.jsxs)("div",{className:"mt-auto flex items-center justify-between pt-2",children:[(0,s.jsx)("p",{className:"text-base md:text-lg font-bold text-icon-color",children:(e=>{let r=void 0!==e.min_price_rub&&null!==e.min_price_rub&&e.min_price_rub>=0,t=void 0!==e.min_price_gh&&null!==e.min_price_gh&&e.min_price_gh>=0,s=r?`${f(e.min_price_rub)} ₽`:"",a=t?`${f(e.min_price_gh)} GH`:"";return r&&t?`от ${s} / ${a}`:r?`от ${s}`:t?`от ${a}`:e.price_text||"Подробнее"})(e)}),(0,s.jsxs)(x.$,{variant:"ghost",size:"sm",className:"text-icon-color hover:text-primary/80 hover:bg-transparent p-0 h-auto text-sm",children:["Перейти ",(0,s.jsx)(m.A,{className:"ml-1.5 h-4 w-4"})]})]})]})]})})}},14975:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(82614).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},41951:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/var/www/html/src/app/search/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/var/www/html/src/app/search/page.tsx","default")},44493:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>o,aR:()=>i,wL:()=>u});var s=t(60687),a=t(43210),n=t(4780);let o=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));o.displayName="Card";let i=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let l=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-xl font-normal uppercase tracking-wider leading-none",e),...r}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},51527:(e,r,t)=>{Promise.resolve().then(t.bind(t,41951))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},72963:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(82614).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},73773:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var s=t(60687),a=t(16189),n=t(43210),o=t(14973),i=t(11516),l=t(72963),d=t(41936),c=t(85814),u=t.n(c),m=t(29523),p=t(44493);function x(){return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center",children:[(0,s.jsx)(i.A,{className:"mx-auto h-12 w-12 animate-spin text-primary"}),(0,s.jsx)("p",{className:"mt-4 text-lg text-muted-foreground",children:"Загрузка результатов поиска..."})]})}function h(){let e=(0,a.useSearchParams)().get("q"),[r,t]=(0,n.useState)([]),[c,x]=(0,n.useState)(!0),[h,g]=(0,n.useState)(null),f=(0,n.useMemo)(()=>e?(0,s.jsxs)(s.Fragment,{children:['Результаты поиска для: "',(0,s.jsx)("span",{className:"text-primary",children:e}),'"']}):"Пожалуйста, введите поисковый запрос.",[e]);return c&&e?(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsx)(i.A,{className:"mx-auto h-12 w-12 animate-spin text-primary"}),(0,s.jsx)("p",{className:"mt-4 text-lg text-muted-foreground",children:"Поиск..."})]}):h?(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsx)(l.A,{className:"mx-auto h-12 w-12 text-destructive mb-4"}),(0,s.jsx)("p",{className:"text-lg text-destructive-foreground",children:"Ошибка поиска:"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:h}),(0,s.jsx)(m.$,{asChild:!0,variant:"outline",className:"mt-6 border-primary text-primary hover:bg-primary/10 hover:text-primary/90",children:(0,s.jsx)(u(),{href:"/games",children:"Посмотреть все игры"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.Zp,{className:"shadow-md bg-card mb-8",children:(0,s.jsx)(p.aR,{children:(0,s.jsx)(p.ZB,{className:"page-title text-xl md:text-2xl text-center text-foreground",children:f})})}),!e&&!c&&(0,s.jsx)(p.Zp,{children:(0,s.jsxs)(p.Wu,{className:"py-10 text-center",children:[(0,s.jsx)(d.A,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground",children:"Используйте панель поиска в шапке для поиска товаров."})]})}),e&&r.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>(0,s.jsx)(o.A,{product:e},e.id))}),e&&0===r.length&&!c&&(0,s.jsx)(p.Zp,{children:(0,s.jsxs)(p.Wu,{className:"py-10 text-center",children:[(0,s.jsx)(l.A,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsxs)("p",{className:"text-xl text-foreground mb-2",children:['Товары по запросу "',(0,s.jsx)("span",{className:"text-primary",children:e}),'" не найдены.']}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Попробуйте другой поисковый запрос или посмотрите все игры."}),(0,s.jsx)(m.$,{asChild:!0,variant:"outline",className:"border-primary text-primary hover:bg-primary/10 hover:text-primary/90",children:(0,s.jsx)(u(),{href:"/games",children:"Посмотреть все игры"})})]})})]})}function g(){return(0,s.jsx)("div",{className:"container mx-auto px-4 py-8 space-y-8",children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(x,{}),children:(0,s.jsx)(h,{})})})}},74722:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{normalizeAppPath:function(){return n},normalizeRscURL:function(){return o}});let s=t(85531),a=t(35499);function n(e){return(0,s.ensureLeadingSlash)(e.split("/").reduce((e,r,t,s)=>!r||(0,a.isGroupSegment)(r)||"@"===r[0]||("page"===r||"route"===r)&&t===s.length-1?e:e+"/"+r,""))}function o(e){return e.replace(/\.rsc($|\?)/,"$1")}},77368:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(82614).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},79089:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=t(65239),a=t(48088),n=t(88170),o=t.n(n),i=t(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d={children:["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,41951)),"/var/www/html/src/app/search/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/var/www/html/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/var/www/html/src/app/search/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79551:e=>{"use strict";e.exports=require("url")},81791:(e,r,t)=>{Promise.resolve().then(t.bind(t,73773))},85531:(e,r)=>{"use strict";function t(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ensureLeadingSlash",{enumerable:!0,get:function(){return t}})},96834:(e,r,t)=>{"use strict";t.d(r,{E:()=>i});var s=t(60687);t(43210);var a=t(24224),n=t(4780);let o=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:r,...t}){return(0,s.jsx)("div",{className:(0,n.cn)(o({variant:r}),e),...t})}}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,6724,377,1658,4519],()=>t(79089));module.exports=s})();