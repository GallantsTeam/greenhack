{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/tooltip.tsx"],"sourcesContent":["\n\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = ({ delayDuration = 300, ...props }) => (\n  <TooltipPrimitive.Provider delayDuration={delayDuration} {...props} />\n);\nTooltipProvider.displayName = TooltipPrimitive.Provider.displayName;\n\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,CAAC,EAAE,gBAAgB,GAAG,EAAE,GAAG,OAAO,iBACxD,8OAAC,mKAAA,CAAA,WAAyB;QAAC,eAAe;QAAgB,GAAG,KAAK;;;;;;AAEpE,gBAAgB,WAAW,GAAG,mKAAA,CAAA,WAAyB,CAAC,WAAW;AAGnE,MAAM,UAAU,mKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,mKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,8OAAC,mKAAA,CAAA,UAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sYACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,mKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/auth/RegisterForm.tsx"],"sourcesContent":["\n'use client';\n\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';\nimport { useToast } from '@/hooks/use-toast';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { CheckCircle, AlertCircle, Loader2, BadgeHelp } from 'lucide-react';\nimport type { ReferralCodeCheckResponse } from '@/types';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';\nimport Cookies from 'js-cookie';\n\nconst registerSchema = z.object({\n  username: z.string().min(3, { message: \"Имя пользователя должно быть не менее 3 символов.\" }),\n  email: z.string().email({ message: \"Неверный формат email.\" }),\n  password: z.string().min(6, { message: \"Пароль должен быть не менее 6 символов.\" }),\n  confirmPassword: z.string(),\n  referralCode: z.string().optional(),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Пароли не совпадают.\",\n  path: [\"confirmPassword\"],\n});\n\ntype RegisterFormValues = z.infer<typeof registerSchema>;\n\nconst REFERRAL_COOKIE_NAME = 'gh_referral_code';\n\nexport default function RegisterForm() {\n  const { toast } = useToast();\n  const { register: registerUser } = useAuth();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [isLoading, setIsLoading] = useState(false);\n  const [referralCodeValue, setReferralCodeValue] = useState('');\n  const [referralStatus, setReferralStatus] = useState<'idle' | 'checking' | 'valid' | 'invalid'>('idle');\n  const [referrerName, setReferrerName] = useState<string | null>(null);\n  const debounceTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n\n  const form = useForm<RegisterFormValues>({\n    resolver: zodResolver(registerSchema),\n    defaultValues: {\n      username: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      referralCode: '',\n    },\n  });\n\n  const checkReferralCode = useCallback(async (code: string): Promise<boolean> => {\n    if (!code.trim()) {\n      setReferralStatus('idle');\n      setReferrerName(null);\n      form.clearErrors('referralCode');\n      return true;\n    }\n    setReferralStatus('checking');\n    try {\n      const response = await fetch(`/api/referral/check?code=${encodeURIComponent(code)}`);\n      const data: ReferralCodeCheckResponse = await response.json();\n      if (response.ok && data.isValid) {\n        setReferralStatus('valid');\n        setReferrerName(data.referrerName || 'Неизвестный пригласитель');\n        form.clearErrors('referralCode');\n        return true;\n      } else {\n        setReferralStatus('invalid');\n        setReferrerName(null);\n        form.setError('referralCode', { type: 'manual', message: data.message || 'Реферальный код недействителен.' });\n        return false;\n      }\n    } catch (error) {\n      console.error('Error checking referral code:', error);\n      setReferralStatus('invalid');\n      setReferrerName(null);\n      form.setError('referralCode', { type: 'manual', message: 'Ошибка проверки кода.' });\n      return false;\n    }\n  }, [form]);\n\n  useEffect(() => {\n    const refCodeFromUrl = searchParams.get('ref');\n\n    if (refCodeFromUrl) {\n      form.setValue('referralCode', refCodeFromUrl, { shouldValidate: false });\n      setReferralCodeValue(refCodeFromUrl);\n      Cookies.set(REFERRAL_COOKIE_NAME, refCodeFromUrl, { expires: 7, path: '/' });\n      checkReferralCode(refCodeFromUrl);\n    } else {\n      const refCodeFromCookie = Cookies.get(REFERRAL_COOKIE_NAME);\n      if (refCodeFromCookie) {\n        form.setValue('referralCode', refCodeFromCookie, { shouldValidate: false });\n        setReferralCodeValue(refCodeFromCookie);\n        checkReferralCode(refCodeFromCookie);\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParams, form.setValue]);\n\n  useEffect(() => {\n    const subscription = form.watch(async (value, { name, type }) => {\n      if (name === 'referralCode') {\n        const code = value.referralCode || '';\n        setReferralCodeValue(code);\n\n        if (debounceTimeoutRef.current) {\n          clearTimeout(debounceTimeoutRef.current);\n        }\n\n        if (code.trim() === '') {\n          setReferralStatus('idle');\n          setReferrerName(null);\n          form.clearErrors('referralCode');\n          Cookies.remove(REFERRAL_COOKIE_NAME, { path: '/' });\n          return;\n        }\n\n        debounceTimeoutRef.current = setTimeout(async () => {\n          if (code.length > 2) {\n            const isValid = await checkReferralCode(code);\n            if (isValid) {\n              Cookies.set(REFERRAL_COOKIE_NAME, code, { expires: 7, path: '/' });\n            } else {\n              if(referralStatus === 'invalid') {\n                 Cookies.remove(REFERRAL_COOKIE_NAME, { path: '/' });\n              }\n            }\n          }\n        }, 500);\n      }\n    });\n    return () => {\n      subscription.unsubscribe();\n      if (debounceTimeoutRef.current) {\n        clearTimeout(debounceTimeoutRef.current);\n      }\n    };\n  }, [form, checkReferralCode, referralStatus]);\n\n  const onSubmit = async (data: RegisterFormValues) => {\n    setIsLoading(true);\n\n    const finalReferralCode = data.referralCode?.trim();\n\n    if (finalReferralCode && referralStatus === 'invalid') {\n      toast({\n        title: \"Ошибка регистрации\",\n        description: \"Пожалуйста, исправьте или удалите недействительный реферальный код.\",\n        variant: \"destructive\",\n      });\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      const submissionData = {\n        ...data,\n        referralCode: referralStatus === 'valid' && finalReferralCode ? finalReferralCode : undefined,\n      };\n\n      await registerUser(submissionData.username, submissionData.email, submissionData.password, submissionData.referralCode);\n\n      if (submissionData.referralCode) {\n        Cookies.remove(REFERRAL_COOKIE_NAME, { path: '/' });\n      }\n\n      toast({\n        title: \"Регистрация успешна!\",\n        description: \"Вы успешно зарегистрированы. Теперь можете войти.\",\n        variant: \"default\",\n      });\n    } catch (error: any) {\n      console.error(\"Registration error in form:\", error);\n      toast({\n        title: \"Ошибка регистрации\",\n        description: error.message || \"Произошла ошибка при регистрации.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n        <FormField\n          control={form.control}\n          name=\"username\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel className=\"text-muted-foreground\">Имя пользователя (Логин)</FormLabel>\n              <FormControl>\n                <Input\n                  placeholder=\"YourUsername123\"\n                  {...field}\n                  disabled={isLoading}\n                  className=\"bg-slate-800/60 border-slate-700 placeholder:text-slate-500 focus:border-primary focus:ring-primary/50\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"email\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel className=\"text-muted-foreground\">Email</FormLabel>\n              <FormControl>\n                <Input\n                  placeholder=\"you@example.com\"\n                  {...field}\n                  disabled={isLoading}\n                  className=\"bg-slate-800/60 border-slate-700 placeholder:text-slate-500 focus:border-primary focus:ring-primary/50\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"password\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel className=\"text-muted-foreground\">Пароль</FormLabel>\n              <FormControl>\n                <Input\n                  type=\"password\"\n                  placeholder=\"••••••••\"\n                  {...field}\n                  disabled={isLoading}\n                  className=\"bg-slate-800/60 border-slate-700 placeholder:text-slate-500 focus:border-primary focus:ring-primary/50\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"confirmPassword\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel className=\"text-muted-foreground\">Подтвердите пароль</FormLabel>\n              <FormControl>\n                <Input\n                  type=\"password\"\n                  placeholder=\"••••••••\"\n                  {...field}\n                  disabled={isLoading}\n                  className=\"bg-slate-800/60 border-slate-700 placeholder:text-slate-500 focus:border-primary focus:ring-primary/50\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"referralCode\"\n          render={({ field }) => (\n            <FormItem>\n              <div className=\"flex items-center justify-between\">\n                <FormLabel className=\"text-muted-foreground\">Реферальный код</FormLabel>\n                <TooltipProvider>\n                  <Tooltip>\n                    <TooltipTrigger asChild>\n                      <Button type=\"button\" variant=\"ghost\" size=\"icon\" className=\"h-5 w-5 p-0 text-muted-foreground hover:text-primary\">\n                        <BadgeHelp className=\"h-4 w-4\" />\n                      </Button>\n                    </TooltipTrigger>\n                    <TooltipContent side=\"top\" className=\"max-w-xs\">\n                      <p className=\"text-xs\">Если вас пригласил друг, введите его уникальный код здесь. Это поможет ему получить бонусы!</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </TooltipProvider>\n              </div>\n              <FormControl>\n                <div className=\"relative\">\n                  <Input\n                    placeholder=\"REF-CODE-123 (необязательно)\"\n                    {...field}\n                    disabled={isLoading || referralStatus === 'valid'}\n                    className={`bg-slate-800/60 border-slate-700 placeholder:text-slate-500 focus:border-primary focus:ring-primary/50 ${\n                      referralStatus === 'valid' ? 'border-green-500 focus-visible:ring-green-500' :\n                      referralStatus === 'invalid' && field.value && field.value.length > 0 ? 'border-destructive focus-visible:ring-destructive' : ''\n                    }`}\n                  />\n                  {referralStatus === 'checking' && <Loader2 className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground\" />}\n                  {referralStatus === 'valid' && <CheckCircle className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-green-500\" />}\n                  {referralStatus === 'invalid' && field.value && field.value.length > 0 && <AlertCircle className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-destructive\" />}\n                </div>\n              </FormControl>\n              {referralStatus === 'valid' && referrerName && (\n                <p className=\"text-xs text-green-500\">Код действителен. Пригласитель: {referrerName}</p>\n              )}\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <Button type=\"submit\" className=\"w-full bg-primary hover:bg-primary/90 text-primary-foreground h-11 text-base font-semibold\" disabled={isLoading || referralStatus === 'checking'}>\n          {isLoading ? \"Создание...\" : \"Создать аккаунт\"}\n        </Button>\n      </form>\n    </Form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}