{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/exo_2_40ff2aa0.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"exo_2_40ff2aa0-module__baBDUW__className\",\n  \"variable\": \"exo_2_40ff2aa0-module__baBDUW__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/exo_2_40ff2aa0.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Exo_2%22,%22arguments%22:[{%22variable%22:%22--font-exo-2%22,%22subsets%22:[%22latin%22,%22cyrillic%22],%22weight%22:[%22100%22,%22200%22,%22300%22,%22400%22,%22500%22,%22600%22,%22700%22,%22800%22,%22900%22]}],%22variableName%22:%22exo2%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Exo 2', 'Exo 2 Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,wJAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,wJAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,wJAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-primary bg-transparent text-primary hover:bg-primary/10 hover:text-primary/90\", // Updated for primary color border and text\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/SearchBar.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Search, X } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nconst SearchBar = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const router = useRouter();\n  const inputRef = useRef<HTMLInputElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const handleSearchSubmit = (e?: React.FormEvent<HTMLFormElement>) => {\n    e?.preventDefault();\n    if (searchTerm.trim()) {\n      router.push(`/search?q=${encodeURIComponent(searchTerm.trim())}`);\n      // Keep it open after search, or setIsOpen(false); \n    }\n  };\n\n  const toggleSearchVisibility = () => {\n    setIsOpen(prev => !prev);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      inputRef.current?.focus();\n    }\n  }, [isOpen]);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        if (isOpen && searchTerm.trim() === '') { // Only close if empty\n          setIsOpen(false);\n        }\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen, searchTerm]);\n\n  return (\n    <div ref={containerRef} className=\"flex items-center relative\">\n      <form onSubmit={handleSearchSubmit} className={cn(\"flex items-center transition-all duration-300 ease-in-out\", isOpen ? \"w-48 md:w-56\" : \"w-0\")}>\n        {isOpen && (\n          <Input\n            ref={inputRef}\n            type=\"search\"\n            placeholder=\"Поиск игр...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"h-9 text-sm bg-card border-border focus:border-primary w-full\"\n          />\n        )}\n      </form>\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        className=\"text-primary hover:text-primary/80 hover:bg-primary/10 rounded-full p-2 ml-1\"\n        onClick={() => {\n            if (isOpen && searchTerm.trim()) {\n                handleSearchSubmit();\n            } else {\n                toggleSearchVisibility();\n            }\n        }}\n        aria-label={isOpen && searchTerm.trim() ? \"Submit search\" : \"Toggle search\"}\n      >\n        <Search className=\"h-5 w-5\" />\n        <span className=\"sr-only\">{isOpen && searchTerm.trim() ? \"Submit search\" : \"Toggle search\"}</span>\n      </Button>\n    </div>\n  );\n};\n\nexport default SearchBar;\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASA,MAAM,YAAY;;IAChB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAC1C,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAE5C,MAAM,qBAAqB,CAAC;QAC1B,GAAG;QACH,IAAI,WAAW,IAAI,IAAI;YACrB,OAAO,IAAI,CAAC,CAAC,UAAU,EAAE,mBAAmB,WAAW,IAAI,KAAK;QAChE,mDAAmD;QACrD;IACF;IAEA,MAAM,yBAAyB;QAC7B,UAAU,CAAA,OAAQ,CAAC;IACrB;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,IAAI,QAAQ;gBACV,SAAS,OAAO,EAAE;YACpB;QACF;8BAAG;QAAC;KAAO;IAEX,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,MAAM;0DAAqB,CAAC;oBAC1B,IAAI,aAAa,OAAO,IAAI,CAAC,aAAa,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBAChF,IAAI,UAAU,WAAW,IAAI,OAAO,IAAI;4BACtC,UAAU;wBACZ;oBACF;gBACF;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;uCAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC5C;;QACF;8BAAG;QAAC;QAAQ;KAAW;IAEvB,qBACE,6LAAC;QAAI,KAAK;QAAc,WAAU;;0BAChC,6LAAC;gBAAK,UAAU;gBAAoB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,6DAA6D,SAAS,iBAAiB;0BACtI,wBACC,6LAAC,oIAAA,CAAA,QAAK;oBACJ,KAAK;oBACL,MAAK;oBACL,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oBAC7C,WAAU;;;;;;;;;;;0BAIhB,6LAAC,qIAAA,CAAA,SAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,WAAU;gBACV,SAAS;oBACL,IAAI,UAAU,WAAW,IAAI,IAAI;wBAC7B;oBACJ,OAAO;wBACH;oBACJ;gBACJ;gBACA,cAAY,UAAU,WAAW,IAAI,KAAK,kBAAkB;;kCAE5D,6LAAC,yMAAA,CAAA,SAAM;wBAAC,WAAU;;;;;;kCAClB,6LAAC;wBAAK,WAAU;kCAAW,UAAU,WAAW,IAAI,KAAK,kBAAkB;;;;;;;;;;;;;;;;;;AAInF;GAvEM;;QAGW,qIAAA,CAAA,YAAS;;;KAHpB;uCAyES","debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/contexts/AuthContext.tsx"],"sourcesContent":["\n'use client';\n\nimport React, { createContext, useContext, useEffect, useState, ReactNode, useCallback } from 'react';\nimport type { User } from '@/types'; \nimport { useRouter, usePathname } from 'next/navigation';\n\ninterface AuthContextType {\n  currentUser: User | null;\n  loading: boolean;\n  login: (emailOrLogin: string, password: string) => Promise<void>;\n  register: (username: string, email: string, password: string, referralCode?: string) => Promise<void>;\n  logout: () => void;\n  fetchUserDetails: (userId: number) => Promise<User | null>; \n  setCurrentUser: React.Dispatch<React.SetStateAction<User | null>>; \n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\n// Define AuthProviderClient that will wrap components needing useAuth\nexport const AuthProviderClient: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  // This component simply renders children, allowing useAuth to be called within them\n  // The actual AuthContext.Provider is in the RootLayout.\n  return <>{children}</>;\n};\n\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n  const pathname = usePathname();\n\n  const processUser = (user: any): User | null => {\n    if (user && user.id && user.username && user.email) {\n      let balance = 0;\n      if (typeof user.balance === 'string') {\n        balance = parseFloat(user.balance);\n      } else if (typeof user.balance === 'number') {\n        balance = user.balance;\n      }\n      if (isNaN(balance)) {\n        balance = 0;\n      }\n      return {\n        ...user,\n        balance: balance,\n      };\n    }\n    return null;\n  }\n\n  const fetchUserDetails = useCallback(async (userId: number): Promise<User | null> => {\n    try {\n      const response = await fetch(`/api/user/${userId}/details`);\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({ message: 'Failed to fetch updated user details' }));\n        console.warn(`Failed to fetch updated user details for user ${userId}: ${errorData.message || response.statusText}`);\n        return null; \n      }\n      const data = await response.json();\n      const processedUser = processUser(data.user);\n      if (processedUser) {\n        setCurrentUser(processedUser); // Update context state\n        localStorage.setItem('currentUser', JSON.stringify(processedUser)); // Update localStorage\n        return processedUser;\n      }\n      return null;\n    } catch (error) {\n      console.error(\"Error fetching user details:\", error);\n      return null;\n    }\n  }, []);\n\n  useEffect(() => {\n    const initializeAuth = async () => {\n      setLoading(true);\n      const storedUser = localStorage.getItem('currentUser');\n      if (storedUser) {\n        try {\n          const parsedUser = JSON.parse(storedUser);\n          const processedUser = processUser(parsedUser);\n          if (processedUser && processedUser.id) {\n            // Fetch fresh user details to ensure data is up-to-date\n            const freshUser = await fetchUserDetails(processedUser.id); \n            if (freshUser) {\n              setCurrentUser(freshUser); // This will now update context state\n            } else {\n              // If fetching fresh details fails, use stored (potentially stale) user\n              // Or, you could decide to log out the user here if fresh data is critical\n              setCurrentUser(processedUser); \n              console.warn(\"Used stored user details as fresh fetch failed.\");\n            }\n          } else {\n            localStorage.removeItem('currentUser');\n            setCurrentUser(null);\n          }\n        } catch (e) {\n          console.error(\"Failed to parse or refresh stored user:\", e);\n          localStorage.removeItem('currentUser');\n          setCurrentUser(null);\n        }\n      }\n      setLoading(false);\n    };\n    initializeAuth();\n  }, [fetchUserDetails]);\n\n\n  const login = useCallback(async (emailOrLogin: string, password: string): Promise<void> => {\n    setLoading(true);\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ emailOrLogin, password }),\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || 'Login failed');\n      }\n      \n      if (data.user && data.user.id) {\n        // Instead of just setting, fetch full details to ensure consistency\n        const freshUser = await fetchUserDetails(data.user.id);\n        if (freshUser) {\n            router.push('/account');\n        } else {\n            // Fallback to processed login data if fetch fails immediately after login\n            const processedLoginUser = processUser(data.user); \n            if (processedLoginUser) {\n                setCurrentUser(processedLoginUser);\n                localStorage.setItem('currentUser', JSON.stringify(processedLoginUser));\n                router.push('/account');\n            } else {\n                throw new Error('Invalid user data received from login.');\n            }\n        }\n      } else {\n        throw new Error('Login response did not include user ID.');\n      }\n    } catch (error: any) {\n      console.error(\"Login error in AuthContext:\", error);\n      setCurrentUser(null);\n      localStorage.removeItem('currentUser');\n      throw error; // Re-throw to be caught by the form\n    } finally {\n      setLoading(false);\n    }\n  }, [router, fetchUserDetails]);\n\n  const register = useCallback(async (username: string, email: string, password: string, referralCode?: string): Promise<void> => {\n    setLoading(true);\n    try {\n      const response = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, email, password, referralCode }),\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || 'Registration failed');\n      }\n      // Registration successful, redirect to login page\n      router.push('/auth/login?registrationSuccess=true'); // Optionally, show a success message on login page\n    } catch (error: any) {\n      console.error(\"Registration error in AuthContext:\", error);\n      throw error; // Re-throw to be caught by the form\n    } finally {\n      setLoading(false);\n    }\n  }, [router]);\n\n  const logout = useCallback(() => {\n    setCurrentUser(null);\n    localStorage.removeItem('currentUser');\n    if (pathname.startsWith('/account') || pathname.startsWith('/admin')) { // Added admin check\n      router.push('/auth/login'); \n    } else {\n      router.push('/');\n    }\n  }, [router, pathname]);\n\n  const value = {\n    currentUser,\n    loading,\n    login,\n    register,\n    logout,\n    fetchUserDetails,\n    setCurrentUser, // Expose setCurrentUser for direct manipulation if needed (e.g., after admin actions)\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = (): AuthContextType => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 564, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 603, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 754, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/hooks/use-toast.ts"],"sourcesContent":["\"use client\"\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 920, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/BalanceDepositModal.tsx"],"sourcesContent":["\n// src/components/BalanceDepositModal.tsx\n'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog';\nimport { useToast } from '@/hooks/use-toast';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Loader2, CreditCardIcon } from 'lucide-react';\nimport type { SitePaymentGatewaySettings } from '@/types';\n\nconst depositSchema = z.object({\n  amount: z.coerce.number().min(1, \"Сумма должна быть не менее 1 GH.\").max(100000, \"Максимальная сумма 100 000 GH.\"),\n});\n\ntype DepositFormValues = z.infer<typeof depositSchema>;\n\ninterface BalanceDepositModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onBalanceUpdated?: () => void; \n}\n\nconst BalanceDepositModal: React.FC<BalanceDepositModalProps> = ({ isOpen, onClose, onBalanceUpdated }) => {\n  const { toast } = useToast();\n  const { currentUser, fetchUserDetails } = useAuth();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showPendingMessage, setShowPendingMessage] = useState(false);\n  const [paymentSettings, setPaymentSettings] = useState<SitePaymentGatewaySettings | null>(null);\n  const [isLoadingSettings, setIsLoadingSettings] = useState(true);\n\n  const form = useForm<DepositFormValues>({\n    resolver: zodResolver(depositSchema),\n    defaultValues: {\n      amount: undefined,\n    },\n  });\n\n  useEffect(() => {\n    if (isOpen) { \n      setIsLoadingSettings(true);\n      setShowPendingMessage(false); // Reset pending message when modal opens\n      form.reset({amount: undefined}); // Reset form when modal opens\n      const fetchPaymentSettings = async () => {\n        try {\n          const response = await fetch('/api/admin/site-settings/payment');\n          if (!response.ok) throw new Error('Failed to fetch payment settings');\n          const data: SitePaymentGatewaySettings = await response.json();\n          setPaymentSettings(data);\n        } catch (error) {\n          console.error(\"Error fetching payment settings in modal:\", error);\n          setPaymentSettings({ is_test_mode_active: true }); \n        } finally {\n          setIsLoadingSettings(false);\n        }\n      };\n      fetchPaymentSettings();\n    }\n  }, [isOpen, form]); // Add form to dependency array to reset on open\n\n  const onSubmit = async (data: DepositFormValues) => {\n    if (!currentUser || isLoadingSettings) {\n      toast({ title: \"Ошибка\", description: \"Для пополнения баланса необходимо авторизоваться или подождать загрузки настроек.\", variant: \"destructive\" });\n      return;\n    }\n    setIsSubmitting(true);\n    setShowPendingMessage(false);\n\n    const endpoint = paymentSettings?.is_test_mode_active \n                     ? '/api/payment/request' \n                     : '/api/payment/create-yoomoney-payment';\n    \n    try {\n      const response = await fetch(endpoint, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ userId: currentUser.id, amountGh: data.amount }),\n      });\n      const result = await response.json();\n      if (!response.ok) {\n        throw new Error(result.message || \"Не удалось обработать запрос на пополнение.\");\n      }\n\n      if (paymentSettings?.is_test_mode_active) {\n        toast({ title: \"Заявка создана\", description: \"Ваша заявка на пополнение отправлена. Ожидайте подтверждения администратором.\" });\n        setShowPendingMessage(true);\n      } else {\n        toast({ title: \"Создание платежа\", description: \"Перенаправление на страницу оплаты...\" });\n        console.log(\"YooMoney Confirmation URL:\", result.confirmation_url);\n        if (result.confirmation_url) {\n          window.location.href = result.confirmation_url; \n        } else {\n           setShowPendingMessage(true); \n        }\n      }\n      form.reset();\n      if (onBalanceUpdated && currentUser?.id) onBalanceUpdated();\n      if (currentUser?.id) fetchUserDetails(currentUser.id); // Fetch details directly here too\n      // Do not close modal automatically here if it's YooMoney, let user be redirected.\n      // For test mode, keep it open to show pending message.\n      if (!paymentSettings?.is_test_mode_active && result.confirmation_url) {\n        // No automatic close if redirecting\n      } else {\n         // If test mode, or no redirect URL, it stays open or we can choose to close it after a delay if showPendingMessage is true\n      }\n\n    } catch (error: any) {\n      toast({ title: \"Ошибка пополнения\", description: error.message, variant: \"destructive\" });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleModalClose = () => {\n    if (!isSubmitting) {\n      form.reset();\n      setShowPendingMessage(false);\n      onClose();\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => { if (!open) handleModalClose(); }}>\n      <DialogContent className=\"sm:max-w-md bg-card border-border\">\n        <DialogHeader>\n          <DialogTitle className=\"text-primary flex items-center\">\n            <CreditCardIcon className=\"mr-2 h-5 w-5\" />\n            Пополнить баланс\n          </DialogTitle>\n          <DialogDescription className=\"text-muted-foreground\">\n            {isLoadingSettings ? \"Загрузка настроек...\" : \n             paymentSettings?.is_test_mode_active \n              ? \"Создайте заявку на пополнение. Администратор рассмотрит ее.\" \n              : \"Введите сумму для пополнения через YooMoney.\"}\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4 pt-4\">\n          <div>\n            <Label htmlFor=\"modal-deposit-amount\" className=\"text-foreground\">Сумма (GH)</Label>\n            <Input\n              type=\"number\"\n              id=\"modal-deposit-amount\"\n              placeholder=\"Например, 500\"\n              className=\"mt-1\"\n              {...form.register(\"amount\")}\n              disabled={isSubmitting || showPendingMessage || isLoadingSettings}\n            />\n            {form.formState.errors.amount && <p className=\"text-sm text-destructive mt-1\">{form.formState.errors.amount.message}</p>}\n          </div>\n          <Button type=\"submit\" className=\"w-full bg-primary hover:bg-primary/90 text-primary-foreground\" disabled={isSubmitting || showPendingMessage || isLoadingSettings}>\n            {isLoadingSettings ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : isSubmitting ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : null}\n            {isLoadingSettings ? \"Загрузка...\" : \n             isSubmitting ? \"Обработка...\" : \n             showPendingMessage ? (paymentSettings?.is_test_mode_active ? \"Заявка ожидает\" : \"Ожидание оплаты\") : \n             (paymentSettings?.is_test_mode_active ? \"Создать заявку\" : \"Перейти к оплате\")}\n          </Button>\n        </form>\n        {showPendingMessage && (\n            <p className=\"text-xs text-center text-yellow-500 bg-yellow-500/10 p-2 rounded-md mt-3\">\n              {paymentSettings?.is_test_mode_active \n                ? \"Баланс обновится после одобрения администратором.\"\n                : \"Для завершения пополнения, пожалуйста, следуйте инструкциям на странице оплаты.\"}\n            </p>\n        )}\n         {!showPendingMessage && !isLoadingSettings && (\n            <p className=\"text-xs text-center text-muted-foreground mt-2\">\n              {paymentSettings?.is_test_mode_active \n                ? \"1 GH = 1 рубль. Пополнение через заявку.\" \n                : \"1 GH = 1 рубль. Оплата через YooMoney Касса.\"}\n            </p>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default BalanceDepositModal;\n    \n    "],"names":[],"mappings":"AACA,yCAAyC;;;;;AAGzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;AAZA;;;;;;;;;;;;AAeA,MAAM,gBAAgB,CAAA,GAAA,uIAAA,CAAA,SAAQ,AAAD,EAAE;IAC7B,QAAQ,uIAAA,CAAA,SAAQ,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,oCAAoC,GAAG,CAAC,QAAQ;AACnF;AAUA,MAAM,sBAA0D,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,gBAAgB,EAAE;;IACpG,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,EAAE,WAAW,EAAE,gBAAgB,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,UAAO,AAAD;IAChD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAqC;IAC1F,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3D,MAAM,OAAO,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAqB;QACtC,UAAU,CAAA,GAAA,iKAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;YACb,QAAQ;QACV;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;yCAAE;YACR,IAAI,QAAQ;gBACV,qBAAqB;gBACrB,sBAAsB,QAAQ,yCAAyC;gBACvE,KAAK,KAAK,CAAC;oBAAC,QAAQ;gBAAS,IAAI,8BAA8B;gBAC/D,MAAM;0EAAuB;wBAC3B,IAAI;4BACF,MAAM,WAAW,MAAM,MAAM;4BAC7B,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;4BAClC,MAAM,OAAmC,MAAM,SAAS,IAAI;4BAC5D,mBAAmB;wBACrB,EAAE,OAAO,OAAO;4BACd,QAAQ,KAAK,CAAC,6CAA6C;4BAC3D,mBAAmB;gCAAE,qBAAqB;4BAAK;wBACjD,SAAU;4BACR,qBAAqB;wBACvB;oBACF;;gBACA;YACF;QACF;wCAAG;QAAC;QAAQ;KAAK,GAAG,gDAAgD;IAEpE,MAAM,WAAW,OAAO;QACtB,IAAI,CAAC,eAAe,mBAAmB;YACrC,MAAM;gBAAE,OAAO;gBAAU,aAAa;gBAAqF,SAAS;YAAc;YAClJ;QACF;QACA,gBAAgB;QAChB,sBAAsB;QAEtB,MAAM,WAAW,iBAAiB,sBACf,yBACA;QAEnB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,UAAU;gBACrC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,QAAQ,YAAY,EAAE;oBAAE,UAAU,KAAK,MAAM;gBAAC;YACvE;YACA,MAAM,SAAS,MAAM,SAAS,IAAI;YAClC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,OAAO,OAAO,IAAI;YACpC;YAEA,IAAI,iBAAiB,qBAAqB;gBACxC,MAAM;oBAAE,OAAO;oBAAkB,aAAa;gBAAgF;gBAC9H,sBAAsB;YACxB,OAAO;gBACL,MAAM;oBAAE,OAAO;oBAAoB,aAAa;gBAAwC;gBACxF,QAAQ,GAAG,CAAC,8BAA8B,OAAO,gBAAgB;gBACjE,IAAI,OAAO,gBAAgB,EAAE;oBAC3B,OAAO,QAAQ,CAAC,IAAI,GAAG,OAAO,gBAAgB;gBAChD,OAAO;oBACJ,sBAAsB;gBACzB;YACF;YACA,KAAK,KAAK;YACV,IAAI,oBAAoB,aAAa,IAAI;YACzC,IAAI,aAAa,IAAI,iBAAiB,YAAY,EAAE,GAAG,kCAAkC;YACzF,kFAAkF;YAClF,uDAAuD;YACvD,IAAI,CAAC,iBAAiB,uBAAuB,OAAO,gBAAgB,EAAE;YACpE,oCAAoC;YACtC,OAAO;YACJ,2HAA2H;YAC9H;QAEF,EAAE,OAAO,OAAY;YACnB,MAAM;gBAAE,OAAO;gBAAqB,aAAa,MAAM,OAAO;gBAAE,SAAS;YAAc;QACzF,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,MAAM,mBAAmB;QACvB,IAAI,CAAC,cAAc;YACjB,KAAK,KAAK;YACV,sBAAsB;YACtB;QACF;IACF;IAEA,qBACE,6LAAC,qIAAA,CAAA,SAAM;QAAC,MAAM;QAAQ,cAAc,CAAC;YAAW,IAAI,CAAC,MAAM;QAAoB;kBAC7E,cAAA,6LAAC,qIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,6LAAC,qIAAA,CAAA,eAAY;;sCACX,6LAAC,qIAAA,CAAA,cAAW;4BAAC,WAAU;;8CACrB,6LAAC,yNAAA,CAAA,iBAAc;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;sCAG7C,6LAAC,qIAAA,CAAA,oBAAiB;4BAAC,WAAU;sCAC1B,oBAAoB,yBACpB,iBAAiB,sBACd,gEACA;;;;;;;;;;;;8BAGR,6LAAC;oBAAK,UAAU,KAAK,YAAY,CAAC;oBAAW,WAAU;;sCACrD,6LAAC;;8CACC,6LAAC,oIAAA,CAAA,QAAK;oCAAC,SAAQ;oCAAuB,WAAU;8CAAkB;;;;;;8CAClE,6LAAC,oIAAA,CAAA,QAAK;oCACJ,MAAK;oCACL,IAAG;oCACH,aAAY;oCACZ,WAAU;oCACT,GAAG,KAAK,QAAQ,CAAC,SAAS;oCAC3B,UAAU,gBAAgB,sBAAsB;;;;;;gCAEjD,KAAK,SAAS,CAAC,MAAM,CAAC,MAAM,kBAAI,6LAAC;oCAAE,WAAU;8CAAiC,KAAK,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO;;;;;;;;;;;;sCAErH,6LAAC,qIAAA,CAAA,SAAM;4BAAC,MAAK;4BAAS,WAAU;4BAAgE,UAAU,gBAAgB,sBAAsB;;gCAC7I,kCAAoB,6LAAC,oNAAA,CAAA,UAAO;oCAAC,WAAU;;;;;2CAAiC,6BAAe,6LAAC,oNAAA,CAAA,UAAO;oCAAC,WAAU;;;;;2CAAiC;gCAC3I,oBAAoB,gBACpB,eAAe,iBACf,qBAAsB,iBAAiB,sBAAsB,mBAAmB,oBAC/E,iBAAiB,sBAAsB,mBAAmB;;;;;;;;;;;;;gBAG/D,oCACG,6LAAC;oBAAE,WAAU;8BACV,iBAAiB,sBACd,sDACA;;;;;;gBAGR,CAAC,sBAAsB,CAAC,mCACtB,6LAAC;oBAAE,WAAU;8BACV,iBAAiB,sBACd,6CACA;;;;;;;;;;;;;;;;;AAMlB;GAvJM;;QACc,+HAAA,CAAA,WAAQ;QACgB,kIAAA,CAAA,UAAO;QAMpC,iKAAA,CAAA,UAAO;;;KARhB;uCAyJS","debugId":null}},
    {"offset": {"line": 1233, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/sheet.tsx"],"sourcesContent":["\n\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-card p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\", // Changed bg-background to bg-card\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,QAAQ,qKAAA,CAAA,OAAmB;AAEjC,MAAM,eAAe,qKAAA,CAAA,UAAsB;AAE3C,MAAM,aAAa,qKAAA,CAAA,QAAoB;AAEvC,MAAM,cAAc,qKAAA,CAAA,SAAqB;AAEzC,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAsB;QACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,8LACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGlC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAsB;gBACrB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAoB;wBAAC,WAAU;;0CAC9B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yCAAyC;QACtD,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,qKAAA,CAAA,QAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA0B;QACzB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,qKAAA,CAAA,cAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1401, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/Header.tsx"],"sourcesContent":["\n\"use client\";\nimport Link from 'next/link';\nimport { Button } from '@/components/ui/button';\nimport { LayoutGrid, Star, HelpCircle, FileText, BarChart3, UserCircle, LogOut, Key, Search as SearchIcon, Home, type LucideIcon, PlusCircle, Menu as MenuIcon } from 'lucide-react';\nimport type { NavItem as CustomNavItemType, SiteSettings } from '@/types';\nimport SearchBar from '@/components/SearchBar';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport { cn } from '@/lib/utils';\nimport { useEffect, useState, useCallback } from 'react';\nimport BalanceDepositModal from '@/components/BalanceDepositModal';\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from \"@/components/ui/sheet\";\nimport { useToast } from '@/hooks/use-toast';\nimport Image from 'next/image';\n\nconst iconMap: { [key: string]: LucideIcon } = {\n  Home,\n  LayoutGrid,\n  Star,\n  HelpCircle,\n  FileText,\n  BarChart3,\n};\n\nconst staticDefaultNavItems: CustomNavItemType[] = [\n  { id: -1, label: 'Главная', href: '/', icon_name: 'Home', item_order: 0, is_visible: true },\n  { id: -2, label: 'Каталог игр', href: '/games', icon_name: 'LayoutGrid', item_order: 1, is_visible: true },\n  { id: -3, label: 'Отзывы', href: '/reviews', icon_name: 'Star', item_order: 2, is_visible: true },\n  { id: -6, label: 'Статус Читов', href: '/statuses', icon_name: 'BarChart3', item_order: 5, is_visible: true },\n];\n\nconst Logo = ({ siteName, logoUrl }: { siteName?: string | null, logoUrl?: string | null }) => {\n  const effectiveSiteName = siteName || \"GreenHacks\";\n  const siteNameParts = effectiveSiteName.split(' ');\n  const siteNameFirstPart = siteNameParts[0];\n  const siteNameSecondPart = siteNameParts.length > 1 ? siteNameParts.slice(1).join(' ') : '';\n\n  return (\n    <Link href=\"/\" className=\"flex items-center gap-1 text-2xl font-bold\">\n      <span className=\"text-primary\">{siteNameFirstPart}</span>\n      <span className=\"text-icon-color\">{siteNameSecondPart}</span>\n    </Link>\n  );\n};\n\n\nconst Header = () => {\n  const { currentUser, logout, loading: authLoading, fetchUserDetails } = useAuth();\n  const router = useRouter();\n  const [navItems, setNavItems] = useState<CustomNavItemType[]>(staticDefaultNavItems);\n  const [siteSettings, setSiteSettings] = useState<SiteSettings | null>(null);\n  const [isDepositModalOpen, setIsDepositModalOpen] = useState(false);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const { toast } = useToast();\n\n  const fetchNavItems = useCallback(async () => {\n    console.log(\"[Header] Attempting to fetch nav items...\");\n    try {\n      const response = await fetch('/api/site-navigation');\n      if (!response.ok) {\n        let errorMsg = 'Failed to fetch nav items';\n        try {\n          const errorData = await response.json();\n          errorMsg = errorData.message || `HTTP error ${response.status}`;\n        } catch (jsonError) {\n          errorMsg = `HTTP error ${response.status}: ${response.statusText}`;\n        }\n        console.error(`[Header] API Error: ${errorMsg}`);\n        throw new Error(errorMsg); \n      }\n      const data: CustomNavItemType[] = await response.json();\n      console.log(\"[Header] Nav items fetched successfully:\", data);\n\n      if (data && data.length > 0) {\n        let combinedItems: CustomNavItemType[] = [...staticDefaultNavItems];\n        const apiHrefs = new Set(data.map(item => item.href));\n        const defaultHrefs = new Set(staticDefaultNavItems.map(item => item.href));\n\n        data.forEach(apiItem => {\n          if (apiItem.is_visible) {\n            if (!defaultHrefs.has(apiItem.href)) {\n              combinedItems.push(apiItem);\n            } else {\n              const defaultItemIndex = combinedItems.findIndex(item => item.href === apiItem.href);\n              if (defaultItemIndex !== -1) {\n                combinedItems[defaultItemIndex] = { ...combinedItems[defaultItemIndex], ...apiItem };\n              }\n            }\n          }\n        });\n        setNavItems(combinedItems.sort((a, b) => (a.item_order || 0) - (b.item_order || 0)));\n      } else {\n        console.warn(\"[Header] API for navigation items returned empty or invalid data. Using static defaults.\");\n        setNavItems(staticDefaultNavItems.sort((a, b) => (a.item_order || 0) - (b.item_order || 0)));\n      }\n    } catch (error: any) {\n      console.error(\"[Header] Error in fetchNavItems catch block:\", error.message);\n      toast({\n        title: \"Ошибка загрузки навигации\",\n        description: \"Не удалось загрузить пункты меню. Используются стандартные.\",\n        variant: \"destructive\",\n        duration: 7000,\n      });\n      setNavItems(staticDefaultNavItems.sort((a, b) => (a.item_order || 0) - (b.item_order || 0))); // Fallback\n    }\n  }, [toast]);\n\n\n  useEffect(() => {\n    fetchNavItems();\n  }, [fetchNavItems]);\n\n  const handleLogout = () => {\n    logout();\n    setIsMobileMenuOpen(false);\n  };\n\n  const formatBalance = (balance: number | undefined | null): string => {\n    if (typeof balance !== 'number' || balance === null || isNaN(balance)) {\n      return '0';\n    }\n    return Math.floor(balance).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n  };\n\n  const onBalanceUpdated = () => {\n    if (currentUser?.id) {\n      fetchUserDetails(currentUser.id);\n    }\n  };\n  \n  const closeMobileMenu = () => setIsMobileMenuOpen(false);\n\n  const MobileNavContent = () => (\n    <nav className=\"flex flex-col h-full\">\n      <div className=\"flex-grow px-2 py-4 space-y-1\">\n        {navItems.map((item) => {\n          const IconComponent = item.icon_name ? iconMap[item.icon_name] : null;\n          return (\n            <Button key={item.id || item.label} asChild variant=\"ghost\" className=\"w-full justify-start text-foreground/80 hover:text-primary hover:bg-primary/10\" onClick={closeMobileMenu}>\n              <Link href={item.href} className=\"flex items-center gap-2.5 text-sm\">\n                {IconComponent && <IconComponent className=\"h-5 w-5 text-primary\" />}\n                {item.label}\n              </Link>\n            </Button>\n          );\n        })}\n      </div>\n      {currentUser && (\n        <div className=\"p-4 border-t border-border space-y-3\">\n           <div className=\"flex items-center justify-between p-2 rounded-md bg-muted/50 border border-border text-sm\">\n              <div>\n                <span className=\"font-semibold text-foreground\">{formatBalance(currentUser.balance)}</span>\n                <span className=\"text-gradient-gh font-bold ml-1\">GH</span>\n              </div>\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7 p-0 text-primary hover:text-primary/80\" onClick={() => {setIsDepositModalOpen(true); closeMobileMenu();}}>\n                <PlusCircle className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Пополнить баланс</span>\n              </Button>\n            </div>\n           <Button asChild variant=\"outline\" className=\"w-full border-primary text-primary hover:bg-primary/10\" onClick={closeMobileMenu}>\n              <Link href=\"/account\">\n                <UserCircle className=\"mr-2 h-5 w-5\" />\n                Личный кабинет\n              </Link>\n            </Button>\n          <Button onClick={handleLogout} variant=\"outline\" className=\"w-full border-destructive text-destructive hover:bg-destructive/10\">\n            <LogOut className=\"mr-2 h-5 w-5\" />\n            Выйти\n          </Button>\n        </div>\n      )}\n      {!currentUser && (\n        <div className=\"p-4 border-t border-border\">\n          <Button asChild variant=\"default\" className=\"w-full bg-primary text-primary-foreground\" onClick={closeMobileMenu}>\n            <Link href=\"/auth/login\">\n              <Key className=\"mr-2 h-5 w-5\" />\n              Войти / Регистрация\n            </Link>\n          </Button>\n        </div>\n      )}\n    </nav>\n  );\n\n\n  return (\n    <>\n      <header className=\"bg-card/90 backdrop-blur-md shadow-lg sticky top-0 z-50 border-b border-border/50\">\n        <div className=\"container mx-auto px-2 sm:px-4 py-2.5 flex items-center justify-between\">\n          {/* Mobile Burger Menu */}\n          <div className=\"lg:hidden\">\n            <Sheet open={isMobileMenuOpen} onOpenChange={setIsMobileMenuOpen}>\n              <SheetTrigger asChild>\n                <Button variant=\"ghost\" size=\"icon\" className=\"text-primary hover:text-primary/80 hover:bg-primary/10\">\n                  <MenuIcon className=\"h-6 w-6\" />\n                  <span className=\"sr-only\">Открыть меню</span>\n                </Button>\n              </SheetTrigger>\n              <SheetContent side=\"left\" className=\"w-full max-w-xs p-0 bg-card text-card-foreground border-r border-border flex flex-col\">\n                <SheetHeader className=\"p-4 border-b border-border\">\n                  <SheetTitle><Logo siteName={siteSettings?.site_name} logoUrl={siteSettings?.logo_url} /></SheetTitle>\n                </SheetHeader>\n                <MobileNavContent />\n              </SheetContent>\n            </Sheet>\n          </div>\n\n          {/* Desktop Logo (hidden on mobile), Mobile Logo (visible on mobile, centered) */}\n          <div className=\"hidden lg:flex\">\n            <Logo siteName={siteSettings?.site_name} logoUrl={siteSettings?.logo_url} />\n          </div>\n          <div className=\"lg:hidden absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2\">\n             <Logo siteName={siteSettings?.site_name} logoUrl={siteSettings?.logo_url} />\n          </div>\n\n\n          {/* Desktop Navigation */}\n          <nav className=\"hidden lg:flex items-center space-x-1\">\n            {navItems.map((item) => {\n              const IconComponent = item.icon_name ? iconMap[item.icon_name] : null;\n              return (\n                <Button key={item.id || item.label} asChild variant=\"ghost\" className=\"text-icon-color hover:text-primary hover:bg-primary/10 px-2.5 py-1.5 h-auto\">\n                  <Link href={item.href} className=\"flex items-center gap-1.5 text-xs xl:text-sm\">\n                    {IconComponent && <IconComponent className=\"h-4 w-4 text-primary\" />}\n                    {item.label}\n                  </Link>\n                </Button>\n              );\n            })}\n          </nav>\n\n          {/* Right side: Search and Auth/User block */}\n          <div className=\"flex items-center space-x-1 md:space-x-2\">\n            <div className=\"hidden sm:flex\"> \n                <SearchBar />\n            </div>\n            {authLoading ? (\n              <div className=\"h-9 w-24 md:w-36 bg-muted rounded-md animate-pulse\"></div>\n            ) : currentUser ? (\n              <div className=\"hidden lg:flex items-center space-x-1\"> \n                <div className=\"flex items-center space-x-1 px-2 py-1.5 rounded-md bg-muted/50 border border-border text-xs\">\n                  <span className=\"font-semibold text-foreground\">{formatBalance(currentUser.balance)}</span>\n                  <span className=\"text-gradient-gh font-bold ml-1\">GH</span>\n                   <Button variant=\"ghost\" size=\"icon\" className=\"h-5 w-5 p-0 ml-1 text-primary hover:text-primary/80\" onClick={() => setIsDepositModalOpen(true)}>\n                    <PlusCircle className=\"h-3.5 w-3.5\" />\n                    <span className=\"sr-only\">Пополнить баланс</span>\n                  </Button>\n                </div>\n                <Button asChild variant=\"ghost\" className=\"text-icon-color hover:text-primary hover:bg-primary/10 px-2 py-1.5 h-auto\">\n                  <Link href=\"/account\" className=\"flex items-center gap-1.5 text-xs xl:text-sm\">\n                    <UserCircle className=\"h-4 w-4 text-primary\" />\n                    {currentUser.username}\n                  </Link>\n                </Button>\n                <Button onClick={handleLogout} variant=\"ghost\" size=\"icon\" className=\"text-primary hover:text-primary/80 hover:bg-primary/10 rounded-full p-1.5 h-8 w-8 sm:h-9 sm:w-9\" aria-label=\"Выйти\">\n                  <LogOut className=\"h-4 w-4 sm:h-5 sm:w-5\" />\n                </Button>\n              </div>\n            ) : (\n              <Button asChild variant=\"ghost\" size=\"icon\" className=\"text-primary hover:text-primary/80 hover:bg-primary/10 rounded-full p-1.5 h-8 w-8 sm:h-9 sm:w-9\">\n                <Link href=\"/auth/login\" aria-label=\"Авторизация\">\n                    <Key className=\"h-4 w-4 sm:h-5 sm:w-5\" />\n                </Link>\n              </Button>\n            )}\n             <div className=\"sm:hidden\"> \n                <SearchBar />\n            </div>\n          </div>\n        </div>\n      </header>\n      {currentUser && (\n        <BalanceDepositModal\n          isOpen={isDepositModalOpen}\n          onClose={() => setIsDepositModalOpen(false)}\n          onBalanceUpdated={onBalanceUpdated}\n        />\n      )}\n    </>\n  );\n};\n\nexport default Header;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2189, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/Footer.tsx"],"sourcesContent":["\n'use client';\nimport Link from 'next/link';\nimport { LayoutGrid, Star, HelpCircle, FileText, BarChart3, Copyright, Home, Mail, Users, Phone, MapPin, Bot, MessageCircle, ShoppingBag } from 'lucide-react';\nimport type { NavItem as CustomNavItemType, SiteSettings } from '@/types';\nimport { useEffect, useState } from 'react';\nimport Image from 'next/image';\nimport { cn } from '@/lib/utils';\n\nconst iconMap: { [key: string]: React.ElementType } = {\n  Home,\n  LayoutGrid,\n  Star,\n  HelpCircle,\n  FileText,\n  BarChart3,\n  Mail,\n  Users, \n  Phone,\n  MapPin,\n  Bot, \n  MessageCircle,\n  ShoppingBag,\n};\n\nconst staticNavItems: CustomNavItemType[] = [\n    { id: -1, label: 'Главная', href: '/', icon_name: 'Home', item_order: 0, is_visible: true },\n    { id: -2, label: 'Каталог игр', href: '/games', icon_name: 'LayoutGrid', item_order: 1, is_visible: true },\n    { id: -3, label: 'Отзывы', href: '/reviews', icon_name: 'Star', item_order: 2, is_visible: true },\n    { id: -6, label: 'Статусы', href: '/statuses', icon_name: 'BarChart3', item_order: 5, is_visible: true },\n];\n\n\nconst Footer = ({ simplified = false }: { simplified?: boolean }) => {\n  const [siteSettings, setSiteSettings] = useState<SiteSettings | null>(null);\n  const [navItems, setNavItems] = useState<CustomNavItemType[]>(staticNavItems.filter(item => item.is_visible).sort((a,b) => (a.item_order || 0) - (b.item_order || 0)));\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const settingsRes = await fetch('/api/site-settings-public');\n\n        if (settingsRes.ok) {\n          setSiteSettings(await settingsRes.json());\n        } else {\n          console.warn(\"Footer: Failed to fetch site settings.\");\n          setSiteSettings({\n            site_name: 'Green Hack',\n            site_description: null,\n            logo_url: null,\n            footer_text: `© ${new Date().getFullYear()} Green Hack. Все права защищены.`,\n            contact_vk_label: 'Наша беседа VK',\n            contact_vk_url: '#',\n            contact_telegram_bot_label: 'Наш Telegram Бот',\n            contact_telegram_bot_url: '#',\n            contact_email_label: 'Email поддержки',\n            contact_email_address: 'support@example.com',\n            footer_marketplace_text: 'Мы продаем на:',\n            footer_marketplace_logo_url: 'https://yougame.biz/images/rlm/logo/logoconcept4.png',\n            footer_marketplace_link_url: 'https://yougame.biz/members/263428/',\n            footer_marketplace_is_visible: true,\n          });\n        }\n        \n      } catch (error) {\n        console.error(\"Error fetching footer data:\", error);\n         setSiteSettings({\n            site_name: 'Green Hack',\n            site_description: null,\n            logo_url: null,\n            footer_text: `© ${new Date().getFullYear()} Green Hack. Все права защищены.`,\n            contact_vk_label: 'Наша беседа VK',\n            contact_vk_url: '#',\n            contact_telegram_bot_label: 'Наш Telegram Бот',\n            contact_telegram_bot_url: '#',\n            contact_email_label: 'Email поддержки',\n            contact_email_address: 'support@example.com',\n            footer_marketplace_text: 'Мы продаем на:',\n            footer_marketplace_logo_url: 'https://yougame.biz/images/rlm/logo/logoconcept4.png',\n            footer_marketplace_link_url: 'https://yougame.biz/members/263428/',\n            footer_marketplace_is_visible: true,\n          });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  if (simplified) {\n    return (\n      <footer className=\"text-center text-xs text-muted-foreground py-3 border-t border-border bg-card mt-auto md:fixed md:bottom-0 md:left-0 md:right-0 md:ml-64\">\n        <p className=\"flex items-center justify-center\">\n          <Copyright className=\"h-4 w-4 mr-1.5\" /> \n          © {new Date().getFullYear()}&#8209;{new Date().getFullYear() + 1} {siteSettings?.site_name || \"GreenHacks\"}. Все права защищены.\n        </p>\n        <p className=\"mt-1 text-sm\">\n          <a href=\"https://gallants.ru/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center justify-center\">\n            Разработано: <span className=\"text-destructive animate-red-blink font-semibold ml-1\">GallantTeam</span>\n          </a>\n        </p>\n      </footer>\n    );\n  }\n\n  const currentSiteName = siteSettings?.site_name || 'GreenHacks';\n  const siteNameParts = currentSiteName.split(' ');\n  const siteNameFirstPart = siteNameParts[0];\n  const siteNameSecondPart = siteNameParts.length > 1 ? siteNameParts.slice(1).join(' ') : '';\n\n  return (\n    <footer className=\"bg-background border-t border-border py-8 mt-auto\">\n      <div className=\"container mx-auto px-4 text-muted-foreground\">\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8\">\n          {/* Site Info Section (Left Column on MD+) */}\n          <div className=\"md:col-span-1\">\n              <h3 className=\"text-lg font-bold text-foreground mb-2\">\n                {siteSettings?.logo_url ? (\n                  <Image src={siteSettings.logo_url} alt={currentSiteName} width={150} height={40} className=\"max-h-10 w-auto\" data-ai-hint=\"site logo\"/>\n                ) : (\n                  <>\n                    <span className=\"text-primary\">{siteNameFirstPart}</span>\n                    <span className=\"text-icon-color\">{siteNameSecondPart}</span>\n                  </>\n                )}\n              </h3>\n              <p className=\"text-sm mb-4 max-w-md\">\n                {siteSettings?.site_description || \"Широкий выбор читов для популярных игр. Повысьте свою эффективность и шансы на победу!\"}\n              </p>\n          </div>\n\n          {/* Marketplace Block (Middle Column on MD+) */}\n          {siteSettings?.footer_marketplace_is_visible && siteSettings.footer_marketplace_logo_url && (\n            <div className=\"md:col-span-1 text-center\">\n              <p className=\"text-sm font-semibold text-foreground mb-2\">\n                {siteSettings.footer_marketplace_text || \"Мы продаем на:\"}\n              </p>\n              <a \n                href={siteSettings.footer_marketplace_link_url || \"#\"} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"inline-block hover:opacity-80 transition-opacity\"\n              >\n                <Image \n                  src={siteSettings.footer_marketplace_logo_url} \n                  alt=\"Marketplace Logo\" \n                  width={180} \n                  height={45} \n                  className=\"max-h-12 w-auto\"\n                  data-ai-hint=\"marketplace logo\"\n                />\n              </a>\n            </div>\n          )}\n           {/* Placeholder if marketplace is not visible, to maintain grid structure on MD+ */}\n           {(!siteSettings?.footer_marketplace_is_visible || !siteSettings.footer_marketplace_logo_url) && (\n            <div className=\"hidden md:block md:col-span-1\"></div>\n           )}\n\n\n          {/* Contact Us Section (Right Column on MD+) */}\n          <div className=\"md:col-span-1 md:text-right\">\n              <h3 className=\"text-lg font-bold text-foreground mb-3\">Связь с нами</h3>\n              <ul className=\"space-y-2\">\n                {siteSettings?.contact_vk_url && siteSettings?.contact_vk_label && (\n                  <li>\n                    <a href={siteSettings.contact_vk_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center md:justify-end text-sm hover:text-primary transition-colors\">\n                      <Users className=\"h-4 w-4 mr-2 md:mr-0 md:ml-2 md:order-2 text-primary\" /> {siteSettings.contact_vk_label}\n                    </a>\n                  </li>\n                )}\n                {siteSettings?.contact_telegram_bot_url && siteSettings?.contact_telegram_bot_label && (\n                  <li>\n                    <a href={siteSettings.contact_telegram_bot_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center md:justify-end text-sm hover:text-primary transition-colors\">\n                      <Bot className=\"h-4 w-4 mr-2 md:mr-0 md:ml-2 md:order-2 text-primary\" /> {siteSettings.contact_telegram_bot_label}\n                    </a>\n                  </li>\n                )}\n                {siteSettings?.contact_email_address && siteSettings?.contact_email_label && (\n                  <li>\n                    <a href={`mailto:${siteSettings.contact_email_address}`} className=\"inline-flex items-center md:justify-end text-sm hover:text-primary transition-colors\">\n                      <Mail className=\"h-4 w-4 mr-2 md:mr-0 md:ml-2 md:order-2 text-primary\" /> {siteSettings.contact_email_label}\n                    </a>\n                  </li>\n                )}\n              </ul>\n          </div>\n        </div>\n\n        {navItems.length > 0 && (\n          <div className=\"border-t border-border pt-6 mb-6\">\n            <nav className=\"flex flex-wrap justify-center gap-x-4 gap-y-2 md:gap-x-6\">\n              {isLoading && !siteSettings ? (\n                  Array.from({ length: 4 }).map((_, index) => (\n                      <div key={index} className=\"h-5 w-24 bg-muted rounded animate-pulse\"></div>\n                  ))\n              ) : navItems.length > 0 ? (\n                  navItems.map((item) => {\n                  const IconComponent = item.icon_name ? iconMap[item.icon_name] : null;\n                  return (\n                      <Link key={item.id || item.label} href={item.href} className=\"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-primary transition-colors\">\n                      {IconComponent && <IconComponent className=\"h-4 w-4 text-primary/80\" />}\n                      {item.label}\n                      </Link>\n                  );\n                  })\n              ) : null}\n            </nav>\n          </div>\n        )}\n\n        <div className=\"border-t border-border pt-6 text-center\">\n          <p className=\"text-sm\">\n            <Copyright className=\"inline h-4 w-4 mr-1 align-text-bottom\" /> \n            {siteSettings?.footer_text || `2025​-​2026 ${currentSiteName}. Все права защищены.`}\n          </p>\n          <p className=\"mt-1 text-sm\"> \n            <a href=\"https://gallants.ru/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center justify-center\">\n              Разработано: <span className=\"text-destructive animate-red-blink font-semibold ml-1\">GallantTeam</span>\n            </a>\n          </p>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2738, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/toast.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,gBAAgB,oKAAA,CAAA,WAAwB;AAE9C,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qIACA;QAED,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG,oKAAA,CAAA,WAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAI3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnC,qBACE,6LAAC,oKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;;AACA,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,SAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sgBACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,oKAAA,CAAA,SAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,6LAAC,+LAAA,CAAA,IAAC;YAAC,WAAU;;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,oKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,oKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sBAAsB;QACnC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,oKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2873, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/toaster.tsx"],"sourcesContent":["\"use client\"\n\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAYO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,WAAQ,AAAD;IAE1B,qBACE,6LAAC,oIAAA,CAAA,gBAAa;;YACX,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO;gBAChE,qBACE,6LAAC,oIAAA,CAAA,QAAK;oBAAW,GAAG,KAAK;;sCACvB,6LAAC;4BAAI,WAAU;;gCACZ,uBAAS,6LAAC,oIAAA,CAAA,aAAU;8CAAE;;;;;;gCACtB,6BACC,6LAAC,oIAAA,CAAA,mBAAgB;8CAAE;;;;;;;;;;;;wBAGtB;sCACD,6LAAC,oIAAA,CAAA,aAAU;;;;;;mBARD;;;;;YAWhB;0BACA,6LAAC,oIAAA,CAAA,gBAAa;;;;;;;;;;;AAGpB;GAtBgB;;QACK,+HAAA,CAAA,WAAQ;;;KADb","debugId":null}},
    {"offset": {"line": 2958, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/CustomCursor.tsx"],"sourcesContent":["\n'use client';\n\nimport React, { useEffect, useRef, useState } from 'react';\n\nconst OUTER_VISUAL_DIAMETER = 32; // px\nconst OUTER_BORDER_WIDTH = 2;    // px\nconst INNER_DOT_DIAMETER = 6;    // px\nconst EASING_FACTOR = 0.18;\n\nconst CustomCursor: React.FC = () => {\n  const outerCircleRef = useRef<HTMLDivElement>(null);\n  const innerDotRef = useRef<HTMLDivElement>(null);\n\n  // Initialize positions off-screen or at 0,0. They will be updated on first mouse move.\n  const mousePosition = useRef({ x: 0, y: 0 });\n  const dotLogicalPosition = useRef({ x: 0, y: 0 });\n  \n  const [isMounted, setIsMounted] = useState(false); // To control client-side only rendering\n  const animationFrameIdRef = useRef<number | null>(null);\n\n  useEffect(() => {\n    // This effect runs once after the initial client render to mark the component as mounted.\n    setIsMounted(true);\n  }, []);\n\n  useEffect(() => {\n    // This effect contains all the logic for cursor movement and DOM manipulation.\n    // It will only run if isMounted is true, meaning only on the client after the initial render.\n    if (!isMounted) {\n      return; // Do nothing if not mounted on the client yet\n    }\n\n    const outerEl = outerCircleRef.current;\n    const dotEl = innerDotRef.current;\n\n    // This check should ideally not be necessary if isMounted logic is correct,\n    // but as a safeguard:\n    if (!outerEl || !dotEl) {\n      console.warn(\"CustomCursor refs not available even after mount.\");\n      return;\n    }\n    \n    // Set initial positions based on first mouse move after mount\n    // This ensures the cursor doesn't jump from (0,0)\n    let initialPositionsSet = false;\n    const setInitialPositions = (event: MouseEvent) => {\n        if (!initialPositionsSet) {\n            mousePosition.current = { x: event.clientX, y: event.clientY };\n            dotLogicalPosition.current = { x: event.clientX, y: event.clientY };\n            \n            outerEl.style.transform = `translate(${mousePosition.current.x - OUTER_VISUAL_DIAMETER / 2}px, ${mousePosition.current.y - OUTER_VISUAL_DIAMETER / 2}px)`;\n            dotEl.style.transform = `translate(${dotLogicalPosition.current.x - INNER_DOT_DIAMETER / 2}px, ${dotLogicalPosition.current.y - INNER_DOT_DIAMETER / 2}px)`;\n            \n            // Make them visible now\n            outerEl.style.opacity = '1';\n            dotEl.style.opacity = '1';\n            initialPositionsSet = true;\n        }\n         // We can remove this specific listener if it was only for one-time init,\n         // but handleMouseMove will continue to update mousePosition.current\n    };\n\n\n    const handleMouseMove = (event: MouseEvent) => {\n      if (!initialPositionsSet) { // Ensure initial positions are set on the very first move\n          setInitialPositions(event);\n      }\n      mousePosition.current = { x: event.clientX, y: event.clientY };\n    };\n\n    const updateCursorPositions = () => {\n      if (!outerEl || !dotEl || !initialPositionsSet) { \n        animationFrameIdRef.current = requestAnimationFrame(updateCursorPositions);\n        return;\n      }\n\n      outerEl.style.transform = `translate(${mousePosition.current.x - OUTER_VISUAL_DIAMETER / 2}px, ${mousePosition.current.y - OUTER_VISUAL_DIAMETER / 2}px)`;\n      \n      dotLogicalPosition.current.x += (mousePosition.current.x - dotLogicalPosition.current.x) * EASING_FACTOR;\n      dotLogicalPosition.current.y += (mousePosition.current.y - dotLogicalPosition.current.y) * EASING_FACTOR;\n      \n      const outerCenterX = mousePosition.current.x;\n      const outerCenterY = mousePosition.current.y;\n      \n      const deltaX = dotLogicalPosition.current.x - outerCenterX;\n      const deltaY = dotLogicalPosition.current.y - outerCenterY;\n      const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n      \n      // Max distance the dot's center can be from the outer circle's center while staying inside\n      const maxDotDistance = (OUTER_VISUAL_DIAMETER / 2) - (INNER_DOT_DIAMETER / 2) - (OUTER_BORDER_WIDTH / 2);\n\n\n      let finalDotX = dotLogicalPosition.current.x;\n      let finalDotY = dotLogicalPosition.current.y;\n\n      if (distance > maxDotDistance && maxDotDistance > 0) { // Ensure maxDotDistance is positive\n        const angle = Math.atan2(deltaY, deltaX);\n        finalDotX = outerCenterX + Math.cos(angle) * maxDotDistance;\n        finalDotY = outerCenterY + Math.sin(angle) * maxDotDistance;\n      }\n      \n      dotEl.style.transform = `translate(${finalDotX - INNER_DOT_DIAMETER / 2}px, ${finalDotY - INNER_DOT_DIAMETER / 2}px)`;\n\n      animationFrameIdRef.current = requestAnimationFrame(updateCursorPositions);\n    };\n    \n    document.body.style.cursor = 'none'; // Hide system cursor\n    window.addEventListener('mousemove', handleMouseMove, true); // Use capture phase for initial position\n    animationFrameIdRef.current = requestAnimationFrame(updateCursorPositions);\n\n    return () => {\n      document.body.style.cursor = 'auto'; // Restore system cursor\n      window.removeEventListener('mousemove', handleMouseMove, true);\n      if (animationFrameIdRef.current) {\n        cancelAnimationFrame(animationFrameIdRef.current);\n      }\n    };\n  }, [isMounted]); // This effect depends on isMounted\n\n  // Render nothing on the server and during the first client render pass\n  if (!isMounted) {\n    return null; \n  }\n\n  // Once mounted, render the cursor elements. Their styles are static here.\n  // JS will handle their opacity (already 0 by default) and transform.\n  return (\n    <>\n      <div\n        ref={outerCircleRef}\n        className=\"fixed rounded-full pointer-events-none\" // Base classes\n        style={{\n          width: `${OUTER_VISUAL_DIAMETER}px`,\n          height: `${OUTER_VISUAL_DIAMETER}px`,\n          border: `${OUTER_BORDER_WIDTH}px solid hsl(var(--primary))`,\n          zIndex: 99999,\n          opacity: 0, // Initially hidden, made visible by JS after first mouse move\n          top: 0, \n          left: 0,\n          willChange: 'transform, opacity',\n          transition: 'opacity 0.1s ease-out',\n        }}\n      />\n      <div\n        ref={innerDotRef}\n        className=\"fixed rounded-full pointer-events-none\" // Base classes\n        style={{\n          width: `${INNER_DOT_DIAMETER}px`,\n          height: `${INNER_DOT_DIAMETER}px`,\n          backgroundColor: 'hsl(var(--primary))',\n          zIndex: 99999,\n          opacity: 0, // Initially hidden\n          top: 0,\n          left: 0,\n          willChange: 'transform, opacity',\n          transition: 'opacity 0.1s ease-out',\n        }}\n      />\n    </>\n  );\n};\n\nexport default CustomCursor;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3151, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/layout.tsx"],"sourcesContent":["\n'use client';\n\nimport { Exo_2 } from 'next/font/google'; \nimport './globals.css';\nimport Header from '@/components/layout/Header';\nimport Footer from '@/components/layout/Footer';\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { AuthProvider } from '@/contexts/AuthContext';\nimport { usePathname } from 'next/navigation';\nimport { cn } from '@/lib/utils';\nimport CustomCursor from '@/components/CustomCursor';\nimport React, { useEffect, useState } from 'react';\n\nconst exo2 = Exo_2({ \n  variable: '--font-exo-2',\n  subsets: ['latin', 'cyrillic'],\n  weight: ['100', '200', '300', '400', '500', '600', '700', '800', '900'], \n});\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  const pathname = usePathname();\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  const safePathname = pathname || \"\";\n\n  const isCurrentAdminPage = safePathname.startsWith('/admin');\n  const isCurrentAuthPage = safePathname.startsWith('/auth');\n  const isHomePage = safePathname === '/';\n\n  const clientShouldShowHeaderFooter = !isCurrentAdminPage && !isCurrentAuthPage;\n  const clientFooterSimplified = safePathname.startsWith('/account');\n  \n  let showPaddingTop = false;\n  if (isMounted) {\n    showPaddingTop = clientShouldShowHeaderFooter &&\n                     !isHomePage &&\n                     !safePathname.startsWith('/games') && \n                     safePathname !== '/statuses' &&\n                     safePathname !== '/reviews'; // Added reviews page check\n  }\n\n  const mainClasses = cn(\n    \"flex-grow flex flex-col\",\n    showPaddingTop ? \"pt-14\" : \"\", \n    isCurrentAdminPage ? \"overflow-y-hidden\" : \"overflow-y-auto\" \n  );\n\n  return (\n    <html lang=\"ru\" className={cn(\"dark\", exo2.variable)}>\n      <head>\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"anonymous\" />\n        <link href=\"https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&display=swap\" rel=\"stylesheet\" />\n      </head>\n      <body\n        className={cn( \n          \"antialiased flex flex-col min-h-screen bg-background text-foreground font-sans\" \n        )}\n      >\n        <AuthProvider>\n          <CustomCursor />\n          \n          {isMounted && clientShouldShowHeaderFooter && <Header />}\n\n          <main className={mainClasses}>\n            {children}\n          </main>\n\n          {isMounted && clientShouldShowHeaderFooter && <Footer simplified={clientFooterSimplified} />}\n          \n          <Toaster />\n        </AuthProvider>\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAXA;;;;;;;;;;;AAmBe,SAAS,WAAW,EACjC,QAAQ,EAGR;;IACA,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,aAAa;QACf;+BAAG,EAAE;IAEL,MAAM,eAAe,YAAY;IAEjC,MAAM,qBAAqB,aAAa,UAAU,CAAC;IACnD,MAAM,oBAAoB,aAAa,UAAU,CAAC;IAClD,MAAM,aAAa,iBAAiB;IAEpC,MAAM,+BAA+B,CAAC,sBAAsB,CAAC;IAC7D,MAAM,yBAAyB,aAAa,UAAU,CAAC;IAEvD,IAAI,iBAAiB;IACrB,IAAI,WAAW;QACb,iBAAiB,gCACA,CAAC,cACD,CAAC,aAAa,UAAU,CAAC,aACzB,iBAAiB,eACjB,iBAAiB,YAAY,2BAA2B;IAC3E;IAEA,MAAM,cAAc,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACnB,2BACA,iBAAiB,UAAU,IAC3B,qBAAqB,sBAAsB;IAG7C,qBACE,6LAAC;QAAK,MAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ,4IAAA,CAAA,UAAI,CAAC,QAAQ;;0BACjD,6LAAC;;kCACC,6LAAC;wBAAK,KAAI;wBAAa,MAAK;;;;;;kCAC5B,6LAAC;wBAAK,KAAI;wBAAa,MAAK;wBAA4B,aAAY;;;;;;kCACpE,6LAAC;wBAAK,MAAK;wBAA8F,KAAI;;;;;;;;;;;;0BAE/G,6LAAC;gBACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV;0BAGF,cAAA,6LAAC,kIAAA,CAAA,eAAY;;sCACX,6LAAC,qIAAA,CAAA,UAAY;;;;;wBAEZ,aAAa,8CAAgC,6LAAC,yIAAA,CAAA,UAAM;;;;;sCAErD,6LAAC;4BAAK,WAAW;sCACd;;;;;;wBAGF,aAAa,8CAAgC,6LAAC,yIAAA,CAAA,UAAM;4BAAC,YAAY;;;;;;sCAElE,6LAAC,sIAAA,CAAA,UAAO;;;;;;;;;;;;;;;;;;;;;;AAKlB;GAhEwB;;QAKL,qIAAA,CAAA,cAAW;;;KALN","debugId":null}}]
}