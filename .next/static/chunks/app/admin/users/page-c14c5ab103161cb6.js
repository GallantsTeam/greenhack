(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8733],{17607:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},17649:(e,t,a)=>{"use strict";a.d(t,{UC:()=>O,VY:()=>M,ZD:()=>P,ZL:()=>L,bL:()=>E,hE:()=>I,hJ:()=>D,l9:()=>T,rc:()=>F});var r=a(12115),s=a(46081),l=a(6101),d=a(15452),n=a(85185),i=a(99708),o=a(95155),c="AlertDialog",[m,u]=(0,s.A)(c,[d.Hs]),f=(0,d.Hs)(),p=e=>{let{__scopeAlertDialog:t,...a}=e,r=f(t);return(0,o.jsx)(d.bL,{...r,...a,modal:!0})};p.displayName=c;var x=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=f(a);return(0,o.jsx)(d.l9,{...s,...r,ref:t})});x.displayName="AlertDialogTrigger";var h=e=>{let{__scopeAlertDialog:t,...a}=e,r=f(t);return(0,o.jsx)(d.ZL,{...r,...a})};h.displayName="AlertDialogPortal";var g=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=f(a);return(0,o.jsx)(d.hJ,{...s,...r,ref:t})});g.displayName="AlertDialogOverlay";var j="AlertDialogContent",[b,y]=m(j),N=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:s,...c}=e,m=f(a),u=r.useRef(null),p=(0,l.s)(t,u),x=r.useRef(null);return(0,o.jsx)(d.G$,{contentName:j,titleName:v,docsSlug:"alert-dialog",children:(0,o.jsx)(b,{scope:a,cancelRef:x,children:(0,o.jsxs)(d.UC,{role:"alertdialog",...m,...c,ref:p,onOpenAutoFocus:(0,n.m)(c.onOpenAutoFocus,e=>{var t;e.preventDefault(),null===(t=x.current)||void 0===t||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,o.jsx)(i.xV,{children:s}),(0,o.jsx)(_,{contentRef:u})]})})})});N.displayName=j;var v="AlertDialogTitle",w=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=f(a);return(0,o.jsx)(d.hE,{...s,...r,ref:t})});w.displayName=v;var A="AlertDialogDescription",S=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=f(a);return(0,o.jsx)(d.VY,{...s,...r,ref:t})});S.displayName=A;var k=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=f(a);return(0,o.jsx)(d.bm,{...s,...r,ref:t})});k.displayName="AlertDialogAction";var C="AlertDialogCancel",R=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,{cancelRef:s}=y(C,a),n=f(a),i=(0,l.s)(t,s);return(0,o.jsx)(d.bm,{...n,...r,ref:i})});R.displayName=C;var _=e=>{let{contentRef:t}=e,a="`".concat(j,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(j,"` by passing a `").concat(A,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(j,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return r.useEffect(()=>{var e;document.getElementById(null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},E=p,T=x,L=h,D=g,O=N,F=k,P=R,I=w,M=S},18763:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},25318:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,r:()=>i});var r=a(95155),s=a(12115),l=a(99708),d=a(74466),n=a(59434);let i=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary bg-transparent text-primary hover:bg-primary/10 hover:text-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:a,variant:s,size:d,asChild:o=!1,...c}=e,m=o?l.DX:"button";return(0,r.jsx)(m,{className:(0,n.cn)(i({variant:s,size:d,className:a})),ref:t,...c})});o.displayName="Button"},34301:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},35695:(e,t,a)=>{"use strict";var r=a(18999);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},50286:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},54165:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>p,L3:()=>x,c7:()=>f,lG:()=>i,rr:()=>h,zM:()=>o});var r=a(95155),s=a(12115),l=a(15452),d=a(25318),n=a(59434);let i=l.bL,o=l.l9,c=l.ZL;l.bm;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});m.displayName=l.hJ.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[s,(0,r.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.UC.displayName;let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="DialogFooter";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});x.displayName=l.hE.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=l.VY.displayName},59409:(e,t,a)=>{"use strict";a.d(t,{bq:()=>u,eb:()=>h,gC:()=>x,l6:()=>c,yv:()=>m});var r=a(95155),s=a(12115),l=a(31992),d=a(79556),n=a(77381),i=a(10518),o=a(59434);let c=l.bL;l.YJ;let m=l.WT,u=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(l.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[s,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=l.PP.displayName;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let x=s.forwardRef((e,t)=>{let{className:a,children:s,position:d="popper",...n}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:d,...n,children:[(0,r.jsx)(f,{}),(0,r.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(p,{})]})})});x.displayName=l.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=l.JU.displayName;let h=s.forwardRef((e,t)=>{let{className:a,children:s,...d}=e;return(0,r.jsxs)(l.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...d,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:s})]})});h.displayName=l.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=l.wv.displayName},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(52596),s=a(39688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},59477:(e,t,a)=>{Promise.resolve().then(a.bind(a,87882))},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>d});var r=a(95155),s=a(12115),l=a(59434);let d=s.forwardRef((e,t)=>{let{className:a,type:s,...d}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...d})});d.displayName="Input"},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>d,aR:()=>n,wL:()=>m});var r=a(95155),s=a(12115),l=a(59434);let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});d.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});n.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,l.cn)("text-xl font-normal uppercase tracking-wider leading-none",a),...s})});i.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})});m.displayName="CardFooter"},75074:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},77223:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},85057:(e,t,a)=>{"use strict";a.d(t,{Label:()=>o});var r=a(95155),s=a(12115),l=a(40968),d=a(74466),n=a(59434);let i=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.b,{ref:t,className:(0,n.cn)(i(),a),...s})});o.displayName=l.b.displayName},85127:(e,t,a)=>{"use strict";a.d(t,{A0:()=>n,BF:()=>i,Hj:()=>o,XI:()=>d,nA:()=>m,nd:()=>c});var r=a(95155),s=a(12115),l=a(59434);let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",a),...s})})});d.displayName="Table";let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",a),...s})});n.displayName="TableHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...s})});i.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});o.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});c.displayName="TableHead";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});m.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},87481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u});var r=a(12115);let s=0,l=new Map,d=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?d(a):e.toasts.forEach(e=>{d(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],o={toasts:[]};function c(e){o=n(o,e),i.forEach(e=>{e(o)})}function m(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=r.useState(o);return r.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},87882:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var r=a(95155),s=a(12115),l=a(66695),d=a(30285),n=a(62523),i=a(85127),o=a(50286),c=a(34301),m=a(75074),u=a(50172),f=a(17607),p=a(18763),x=a(77223),h=a(87481),g=a(62177),j=a(90221),b=a(55594),y=a(85057),N=a(54165),v=a(59409);let w=b.Ik({username:b.Yj().min(3,{message:"Имя пользователя должно быть не менее 3 символов."}),email:b.Yj().email({message:"Неверный формат email."}),password:b.Yj().min(6,{message:"Пароль должен быть не менее 6 символов."}),role:b.k5(["client","admin","booster"],{required_error:"Роль обязательна."}),balance:b.au.number().min(0,{message:"Баланс не может быть отрицательным."}).optional().default(0),referral_percentage:b.au.number().min(0,"Процент не может быть отрицательным.").max(100,"Процент не может быть больше 100.").optional().default(5)}),A=e=>{let{isOpen:t,onClose:a,onUserAdded:l}=e,{toast:i}=(0,h.dj)(),[o,c]=(0,s.useState)(!1),m=(0,g.mN)({resolver:(0,j.u)(w),defaultValues:{username:"",email:"",password:"",role:"client",balance:0,referral_percentage:5}}),f=async e=>{c(!0);try{let t=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw Error(r.message||"Не удалось добавить пользователя.");i({title:"Пользователь добавлен",description:"Пользователь ".concat(e.username," успешно создан.")}),l(),m.reset(),a()}catch(e){i({title:"Ошибка",description:e.message||"Произошла ошибка при добавлении пользователя.",variant:"destructive"})}finally{c(!1)}};return(0,r.jsx)(N.lG,{open:t,onOpenChange:e=>{e||o||(m.reset(),a())},children:(0,r.jsxs)(N.Cf,{className:"sm:max-w-md bg-card border-border",children:[(0,r.jsx)(N.c7,{children:(0,r.jsx)(N.L3,{className:"text-primary",children:"Добавить нового пользователя"})}),(0,r.jsxs)("form",{onSubmit:m.handleSubmit(f),className:"space-y-3 py-3 max-h-[70vh] overflow-y-auto pr-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"username-add",className:"text-foreground",children:"Логин"}),(0,r.jsx)(n.p,{id:"username-add",...m.register("username"),placeholder:"super_user",className:"mt-1",disabled:o}),m.formState.errors.username&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:m.formState.errors.username.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"email-add",className:"text-foreground",children:"Email"}),(0,r.jsx)(n.p,{id:"email-add",type:"email",...m.register("email"),placeholder:"user@example.com",className:"mt-1",disabled:o}),m.formState.errors.email&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:m.formState.errors.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"password-add",className:"text-foreground",children:"Пароль"}),(0,r.jsx)(n.p,{id:"password-add",type:"password",...m.register("password"),placeholder:"••••••••",className:"mt-1",disabled:o}),m.formState.errors.password&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:m.formState.errors.password.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"role-add",className:"text-foreground",children:"Роль"}),(0,r.jsxs)(v.l6,{onValueChange:e=>m.setValue("role",e),defaultValue:m.getValues("role"),disabled:o,children:[(0,r.jsx)(v.bq,{id:"role-add",className:"w-full mt-1",children:(0,r.jsx)(v.yv,{placeholder:"Выберите роль"})}),(0,r.jsxs)(v.gC,{children:[(0,r.jsx)(v.eb,{value:"client",children:"Клиент"}),(0,r.jsx)(v.eb,{value:"admin",children:"Администратор"}),(0,r.jsx)(v.eb,{value:"booster",children:"Бустер"})]})]}),m.formState.errors.role&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:m.formState.errors.role.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"balance-add",className:"text-foreground",children:"Баланс (GH)"}),(0,r.jsx)(n.p,{id:"balance-add",type:"number",step:"0.01",...m.register("balance"),placeholder:"0.00",className:"mt-1",disabled:o}),m.formState.errors.balance&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:m.formState.errors.balance.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"referral_percentage-add",className:"text-foreground",children:"Реферальный процент (%)"}),(0,r.jsx)(n.p,{id:"referral_percentage-add",type:"number",step:"0.01",...m.register("referral_percentage"),placeholder:"5.00",className:"mt-1",disabled:o}),m.formState.errors.referral_percentage&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:m.formState.errors.referral_percentage.message})]}),(0,r.jsxs)(N.Es,{className:"mt-5 pt-4 border-t border-border",children:[(0,r.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>{m.reset(),a()},disabled:o,children:"Отмена"}),(0,r.jsxs)(d.$,{type:"submit",className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:o,children:[o?(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):null,o?"Добавление...":"Добавить"]})]})]})]})})},S=b.Ik({username:b.Yj().min(3,{message:"Имя пользователя должно быть не менее 3 символов."}),email:b.Yj().email({message:"Неверный формат email."}),password:b.Yj().min(6,{message:"Новый пароль должен быть не менее 6 символов."}).optional().or(b.eu("")),role:b.k5(["client","admin","booster"],{required_error:"Роль обязательна."}),balance:b.au.number().min(0,{message:"Баланс не может быть отрицательным."}).default(0),referral_percentage:b.au.number().min(0,"Процент не может быть отрицательным.").max(100,"Процент не может быть больше 100.").optional().default(5)}),k=e=>{let{isOpen:t,onClose:a,user:l,onUserUpdated:i}=e,{toast:o}=(0,h.dj)(),[c,m]=(0,s.useState)(!1),f=(0,g.mN)({resolver:(0,j.u)(S),defaultValues:{username:"",email:"",password:"",role:"client",balance:0,referral_percentage:5}});(0,s.useEffect)(()=>{l&&f.reset({username:l.username,email:l.email,password:"",role:l.role,balance:l.balance||0,referral_percentage:void 0===l.referral_percentage?5:Number(l.referral_percentage)})},[l,f]);let p=async e=>{if(!l)return;m(!0);let t={...e};e.password&&""!==e.password.trim()||delete t.password;try{let r=await fetch("/api/admin/users/".concat(l.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await r.json();if(!r.ok)throw Error(s.message||"Не удалось обновить пользователя.");o({title:"Пользователь обновлен",description:"Данные пользователя ".concat(e.username," были успешно обновлены.")}),i(),a()}catch(e){o({title:"Ошибка обновления",description:e.message||"Произошла ошибка при обновлении пользователя.",variant:"destructive"})}finally{m(!1)}};return l?(0,r.jsx)(N.lG,{open:t,onOpenChange:e=>{e||c||(f.reset(),a())},children:(0,r.jsxs)(N.Cf,{className:"sm:max-w-md bg-card border-border",children:[(0,r.jsx)(N.c7,{children:(0,r.jsxs)(N.L3,{className:"text-primary",children:["Редактировать: ",l.username]})}),(0,r.jsxs)("form",{onSubmit:f.handleSubmit(p),className:"space-y-3 py-3 max-h-[70vh] overflow-y-auto pr-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"edit-username",className:"text-foreground",children:"Логин"}),(0,r.jsx)(n.p,{id:"edit-username",...f.register("username"),className:"mt-1",disabled:c}),f.formState.errors.username&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:f.formState.errors.username.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"edit-email",className:"text-foreground",children:"Email"}),(0,r.jsx)(n.p,{id:"edit-email",type:"email",...f.register("email"),className:"mt-1",disabled:c}),f.formState.errors.email&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:f.formState.errors.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"edit-password",className:"text-foreground",children:"Новый пароль (не менять - пусто)"}),(0,r.jsx)(n.p,{id:"edit-password",type:"password",...f.register("password"),placeholder:"••••••••",className:"mt-1",disabled:c}),f.formState.errors.password&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:f.formState.errors.password.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"edit-role",className:"text-foreground",children:"Роль"}),(0,r.jsx)(g.xI,{control:f.control,name:"role",render:e=>{let{field:t}=e;return(0,r.jsxs)(v.l6,{onValueChange:t.onChange,value:t.value,disabled:c,children:[(0,r.jsx)(v.bq,{className:"w-full mt-1",children:(0,r.jsx)(v.yv,{placeholder:"Выберите роль"})}),(0,r.jsxs)(v.gC,{children:[(0,r.jsx)(v.eb,{value:"client",children:"Клиент"}),(0,r.jsx)(v.eb,{value:"admin",children:"Администратор"}),(0,r.jsx)(v.eb,{value:"booster",children:"Бустер"})]})]})}}),f.formState.errors.role&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:f.formState.errors.role.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"edit-balance",className:"text-foreground",children:"Баланс (GH)"}),(0,r.jsx)(n.p,{id:"edit-balance",type:"number",step:"0.01",...f.register("balance"),className:"mt-1",disabled:c}),f.formState.errors.balance&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:f.formState.errors.balance.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Label,{htmlFor:"edit-referral_percentage",className:"text-foreground",children:"Реферальный процент (%)"}),(0,r.jsx)(n.p,{id:"edit-referral_percentage",type:"number",step:"0.01",...f.register("referral_percentage"),placeholder:"5.00",className:"mt-1",disabled:c}),f.formState.errors.referral_percentage&&(0,r.jsx)("p",{className:"text-xs text-destructive mt-1",children:f.formState.errors.referral_percentage.message})]}),(0,r.jsxs)(N.Es,{className:"mt-5 pt-4 border-t border-border",children:[(0,r.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>{f.reset(),a()},disabled:c,children:"Отмена"}),(0,r.jsxs)(d.$,{type:"submit",className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:c,children:[c?(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):null,c?"Сохранение...":"Сохранить"]})]})]})]})}):null};var C=a(90010),R=a(35695);function _(){let[e,t]=(0,s.useState)([]),[a,g]=(0,s.useState)(""),[j,b]=(0,s.useState)(!0),{toast:y}=(0,h.dj)(),[N,v]=(0,s.useState)(!1),[w,S]=(0,s.useState)(!1),[_,E]=(0,s.useState)(null),[T,L]=(0,s.useState)(null),D=(0,R.useRouter)(),O=(0,s.useCallback)(async()=>{b(!0);try{let e=await fetch("/api/admin/users");if(!e.ok){let t=await e.json().catch(()=>({message:"Failed to fetch users"}));throw Error(t.message)}let a=await e.json();t(a)}catch(e){console.error("Error fetching users:",e),y({title:"Ошибка загрузки пользователей",description:e.message||"Не удалось получить список пользователей.",variant:"destructive"}),t([])}finally{b(!1)}},[y]);(0,s.useEffect)(()=>{O()},[O]);let F=e.filter(e=>e.username.toLowerCase().includes(a.toLowerCase())||e.email.toLowerCase().includes(a.toLowerCase())||e.role&&e.role.toLowerCase().includes(a.toLowerCase())),P=e=>{if(4===e.id){y({title:"Действие запрещено",description:"Этого пользователя нельзя редактировать через админ-панель.",variant:"destructive"});return}E(e),S(!0)},I=e=>{if(4===e.id){y({title:"Действие запрещено",description:"Этого пользователя нельзя удалять через админ-панель.",variant:"destructive"});return}L(e)},M=async()=>{if(T&&4!==T.id){try{let e=await fetch("/api/admin/users/".concat(T.id),{method:"DELETE"}),t=await e.json();if(!e.ok)throw Error(t.message||"Не удалось удалить пользователя.");y({title:"Пользователь удален",description:t.message||"Пользователь ".concat(T.username," был успешно удален.")}),O()}catch(e){y({title:"Ошибка удаления",description:e.message||"Произошла ошибка при удалении пользователя.",variant:"destructive"})}L(null)}},z=e=>{D.push("/admin/users/".concat(e,"/view"))},V=e=>{switch(e){case"admin":return"Администратор";case"booster":return"Бустер";case"client":return"Клиент";default:return e||"Неизвестно"}},U=e=>"number"!=typeof e||null===e||isNaN(e)?"0.00":e.toFixed(2);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(l.Zp,{className:"shadow-lg",children:[(0,r.jsxs)(l.aR,{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.ZB,{className:"text-2xl font-bold text-primary flex items-center",children:[(0,r.jsx)(o.A,{className:"mr-2 h-6 w-6"}),"Управление Пользователями"]}),(0,r.jsx)(l.BT,{className:"text-muted-foreground",children:"Просмотр, редактирование и управление аккаунтами пользователей."})]}),(0,r.jsxs)(d.$,{onClick:()=>{v(!0)},variant:"outline",className:"border-primary text-primary hover:bg-primary/10",children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Добавить пользователя"]})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(n.p,{type:"search",placeholder:"Поиск по логину, email или роли...",value:a,onChange:e=>g(e.target.value),className:"pl-8 w-full md:w-1/3 bg-background focus:border-primary"})]})}),j?(0,r.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,r.jsx)(u.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,r.jsx)("p",{className:"ml-2 text-muted-foreground",children:"Загрузка пользователей..."})]}):F.length>0?(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)(i.XI,{children:[(0,r.jsx)(i.A0,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nd,{className:"text-primary",children:"ID"}),(0,r.jsx)(i.nd,{className:"text-primary",children:"Логин"}),(0,r.jsx)(i.nd,{className:"text-primary",children:"Email"}),(0,r.jsx)(i.nd,{className:"text-primary",children:"Роль"}),(0,r.jsx)(i.nd,{className:"text-right text-primary",children:"Баланс (GH)"}),(0,r.jsx)(i.nd,{className:"text-primary",children:"Дата регистрации"}),(0,r.jsx)(i.nd,{className:"text-center text-primary",children:"Действия"})]})}),(0,r.jsx)(i.BF,{children:F.map(e=>(0,r.jsxs)(i.Hj,{className:"hover:bg-muted/30",children:[(0,r.jsx)(i.nA,{className:"font-medium text-foreground/90",children:e.id}),(0,r.jsx)(i.nA,{className:"text-foreground/90",children:e.username}),(0,r.jsx)(i.nA,{className:"text-muted-foreground",children:e.email}),(0,r.jsx)(i.nA,{className:"text-muted-foreground",children:V(e.role)}),(0,r.jsx)(i.nA,{className:"text-right text-foreground/90",children:U(e.balance)}),(0,r.jsx)(i.nA,{className:"text-muted-foreground text-xs",children:e.created_at?new Date(e.created_at).toLocaleDateString("ru-RU"):"N/A"}),(0,r.jsx)(i.nA,{className:"text-center",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,r.jsxs)(d.$,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-primary",onClick:()=>z(e.id),children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Детали"})]}),(0,r.jsxs)(d.$,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-primary",onClick:()=>P(e),disabled:4===e.id,children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Редактировать"})]}),(0,r.jsxs)(C.Lt,{children:[(0,r.jsx)(C.tv,{asChild:!0,children:(0,r.jsxs)(d.$,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive/70 hover:text-destructive",onClick:()=>I(e),disabled:4===e.id,children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Удалить"})]})}),T&&4!==T.id&&(0,r.jsxs)(C.EO,{children:[(0,r.jsxs)(C.wd,{children:[(0,r.jsx)(C.r7,{children:"Вы уверены?"}),(0,r.jsxs)(C.$v,{children:["Это действие нельзя отменить. Пользователь ",null==T?void 0:T.username," будет удален."]})]}),(0,r.jsxs)(C.ck,{children:[(0,r.jsx)(C.Zr,{onClick:()=>L(null),children:"Отмена"}),(0,r.jsx)(C.Rx,{onClick:M,className:"bg-destructive hover:bg-destructive/90",children:"Удалить"})]})]})]})]})})]},e.id))})]})}):(0,r.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"Пользователи не найдены."})]})]}),(0,r.jsx)(A,{isOpen:N,onClose:()=>v(!1),onUserAdded:()=>{v(!1),O()}}),_&&(0,r.jsx)(k,{isOpen:w,onClose:()=>{S(!1),E(null)},user:_,onUserUpdated:()=>{S(!1),E(null),O()}})]})}},90010:(e,t,a)=>{"use strict";a.d(t,{$v:()=>h,EO:()=>u,Lt:()=>i,Rx:()=>g,Zr:()=>j,ck:()=>p,r7:()=>x,tv:()=>o,wd:()=>f});var r=a(95155),s=a(12115),l=a(17649),d=a(59434),n=a(30285);let i=l.bL,o=l.l9,c=l.ZL,m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hJ,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});m.displayName=l.hJ.displayName;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(m,{}),(0,r.jsx)(l.UC,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]})});u.displayName=l.UC.displayName;let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};f.displayName="AlertDialogHeader";let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="AlertDialogFooter";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hE,{ref:t,className:(0,d.cn)("text-lg font-semibold text-foreground",a),...s})});x.displayName=l.hE.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.VY,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=l.VY.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.rc,{ref:t,className:(0,d.cn)((0,n.r)(),a),...s})});g.displayName=l.rc.displayName;let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.ZD,{ref:t,className:(0,d.cn)((0,n.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...s})});j.displayName=l.ZD.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,7576,5521,5756,9205,8897,5452,8441,1684,7358],()=>t(59477)),_N_E=e.O()}]);