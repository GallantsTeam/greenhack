(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1295],{72117:(e,s,l)=>{Promise.resolve().then(l.bind(l,98589))},98589:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>P});var t=l(95155),a=l(12115),r=l(62177),i=l(90221),n=l(55594),o=l(30285),d=l(62523),c=l(85057),m=l(88539),u=l(59409),p=l(66695),x=l(17313),_=l(87481),h=l(35695),g=l(25318);let j=(0,l(40157).A)("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);var v=l(12543),b=l(60960),f=l(79311),y=l(15300),N=l(82733),k=l(56013),w=l(6160),S=l(77223),L=l(34301),Y=l(50172),A=l(26126);let F=n.Ik({id:n.ai().optional(),duration_days:n.au.number().min(1,"Длительность должна быть не менее 1 дня.").optional().default(1),price_rub:n.au.number().min(0,"Цена RUB не может быть отрицательной.").optional().default(0),price_gh:n.au.number().min(0,"Цена GH не может быть отрицательной.").optional().default(0),payment_link:n.Yj().url({message:"Неверный URL ссылки на оплату."}).optional().or(n.eu("")).nullable(),mode_label:n.Yj().optional().nullable()}),V=n.Ik({name:n.Yj().min(1,"Название обязательно."),slug:n.Yj().min(1,"Slug обязателен.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Slug может содержать только строчные буквы, цифры и дефисы."),game_slug:n.Yj().min(1,"Категория (игра) обязательна."),status:n.k5(["safe","updating","risky","unknown"],{required_error:"Статус обязателен."}).default("unknown"),status_text:n.Yj().optional().nullable(),price_text:n.Yj().optional().nullable(),short_description:n.Yj().optional().nullable(),long_description:n.Yj().optional().nullable(),image_url:n.Yj().url({message:"Неверный URL изображения."}).optional().or(n.eu("")).nullable(),data_ai_hint:n.Yj().optional().nullable(),mode:n.k5(["PVE","PVP","BOTH"]).nullable().optional(),gallery_image_urls:n.Yj().optional().nullable(),functions_aim_title:n.Yj().optional().nullable(),functions_aim:n.Yj().optional().nullable(),functions_aim_description:n.Yj().optional().nullable(),functions_esp_title:n.Yj().optional().nullable(),functions_wallhack:n.Yj().optional().nullable(),functions_esp_description:n.Yj().optional().nullable(),functions_misc_title:n.Yj().optional().nullable(),functions_misc:n.Yj().optional().nullable(),functions_misc_description:n.Yj().optional().nullable(),system_os:n.Yj().optional().nullable(),system_build:n.Yj().optional().nullable(),system_gpu:n.Yj().optional().nullable(),system_cpu:n.Yj().optional().nullable(),retrieval_modal_intro_text:n.Yj().optional().nullable(),retrieval_modal_antivirus_text:n.Yj().optional().nullable(),retrieval_modal_antivirus_link_text:n.Yj().max(255).optional().nullable(),retrieval_modal_antivirus_link_url:n.Yj().url({message:"Неверный URL"}).optional().or(n.eu("")).nullable(),retrieval_modal_launcher_text:n.Yj().optional().nullable(),retrieval_modal_launcher_link_text:n.Yj().max(255).optional().nullable(),retrieval_modal_launcher_link_url:n.Yj().url({message:"Неверный URL"}).optional().or(n.eu("")).nullable(),retrieval_modal_key_paste_text:n.Yj().optional().nullable(),retrieval_modal_support_text:n.Yj().optional().nullable(),retrieval_modal_support_link_text:n.Yj().max(255).optional().nullable(),retrieval_modal_support_link_url:n.Yj().url({message:"Неверный URL"}).optional().or(n.eu("")).nullable(),retrieval_modal_how_to_run_link:n.Yj().url({message:"Неверный URL"}).optional().or(n.eu("")).nullable(),pricing_options:n.YO(F).optional().default([{duration_days:1,price_rub:0,price_gh:0,payment_link:"",mode_label:""}])}),C="__NULL_VALUE__";function P(){let{toast:e}=(0,_.dj)(),s=(0,h.useRouter)(),[l,n]=(0,a.useState)(!1),[F,P]=(0,a.useState)([]),[R,E]=(0,a.useState)(!0),[U,B]=(0,a.useState)(""),[T,H]=(0,a.useState)([]),[O,$]=(0,a.useState)(""),[z,I]=(0,a.useState)([]),[Z,M]=(0,a.useState)(""),[W,X]=(0,a.useState)([]),q=(0,r.mN)({resolver:(0,i.u)(V),defaultValues:{name:"",slug:"",game_slug:"",status:"unknown",status_text:"",price_text:"",short_description:"",long_description:"",image_url:"",data_ai_hint:"",mode:null,gallery_image_urls:"",functions_aim_title:"Aimbot Функции",functions_aim:"",functions_aim_description:"",functions_esp_title:"ESP/Wallhack Функции",functions_wallhack:"",functions_esp_description:"",functions_misc_title:"Прочие Функции",functions_misc:"",functions_misc_description:"",system_os:"",system_build:"",system_gpu:"",system_cpu:"",retrieval_modal_intro_text:"",retrieval_modal_antivirus_text:"",retrieval_modal_antivirus_link_text:"",retrieval_modal_antivirus_link_url:"",retrieval_modal_launcher_text:"",retrieval_modal_launcher_link_text:"",retrieval_modal_launcher_link_url:"",retrieval_modal_key_paste_text:"",retrieval_modal_support_text:"",retrieval_modal_support_link_text:"",retrieval_modal_support_link_url:"",retrieval_modal_how_to_run_link:"",pricing_options:[{duration_days:1,price_rub:0,price_gh:0,payment_link:"",mode_label:""}]}}),{fields:D,append:G,remove:J}=(0,r.jz)({control:q.control,name:"pricing_options"}),K=(0,a.useCallback)(async()=>{E(!0);try{let e=await fetch("/api/categories");if(!e.ok)throw Error("Failed to fetch categories");let s=await e.json();P(s)}catch(s){e({title:"Ошибка",description:"Не удалось загрузить категории.",variant:"destructive"})}finally{E(!1)}},[e]);(0,a.useEffect)(()=>{K()},[K]);let Q=e=>e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),ee=q.watch("name");(0,a.useEffect)(()=>{ee&&!q.formState.dirtyFields.slug&&q.setValue("slug",Q(ee),{shouldValidate:!0})},[ee,q]),(0,a.useEffect)(()=>{q.setValue("functions_aim",T.join(","))},[T,q]),(0,a.useEffect)(()=>{q.setValue("functions_wallhack",z.join(","))},[z,q]),(0,a.useEffect)(()=>{q.setValue("functions_misc",W.join(","))},[W,q]);let es=e=>{"aim"===e&&U.trim()?(T.includes(U.trim())||H(e=>[...e,U.trim()]),B("")):"wh"===e&&O.trim()?(z.includes(O.trim())||I(e=>[...e,O.trim()]),$("")):"misc"===e&&Z.trim()&&(W.includes(Z.trim())||X(e=>[...e,Z.trim()]),M(""))},el=(e,s)=>{"aim"===e&&H(e=>e.filter((e,l)=>l!==s)),"wh"===e&&I(e=>e.filter((e,l)=>l!==s)),"misc"===e&&X(e=>e.filter((e,l)=>l!==s))},et=(e,s,a,r,i,n)=>(0,t.jsxs)("div",{className:"space-y-3 p-4 border border-border/30 rounded-md bg-card/50 shadow-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:i,className:"text-foreground font-semibold",children:"Заголовок секции"}),(0,t.jsx)(d.p,{id:i,...q.register(i),placeholder:"functions_aim_title"===i?"Aimbot Функции":"functions_esp_title"===i?"ESP/Wallhack Функции":"Прочие Функции",className:"mt-1 h-9",disabled:l})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:n,className:"text-foreground",children:"Описание секции (опционально)"}),(0,t.jsx)(m.T,{id:n,...q.register(n),placeholder:"Краткое описание этой группы функций...",className:"mt-1 min-h-[60px]",disabled:l})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c.Label,{className:"text-xs text-muted-foreground",children:"Добавить функцию"}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(d.p,{value:s,onChange:e=>a(e.target.value),placeholder:"Новая функция",className:"flex-grow h-9",disabled:l,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),es(r))}}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"sm",onClick:()=>es(r),disabled:l||!s.trim(),className:"h-9 border-primary text-primary hover:bg-primary/10",children:"Добавить"})]})]}),e.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2 p-2 border border-input rounded-md min-h-[40px] bg-background",children:e.map((e,s)=>(0,t.jsxs)(A.E,{variant:"outline",className:"text-sm py-1 px-2 flex items-center border-primary/50 text-foreground",children:[e,(0,t.jsx)(o.$,{type:"button",variant:"ghost",size:"icon",className:"ml-1.5 h-4 w-4 p-0 text-muted-foreground hover:text-destructive",onClick:()=>el(r,s),disabled:l,children:(0,t.jsx)(g.A,{className:"h-3 w-3"})})]},"".concat(r,"-").concat(s,"-").concat(e)))})]}),ea=async l=>{n(!0);try{var t;let a={...l,mode:l.mode===C?null:l.mode,functions_aim:T.join(","),functions_wallhack:z.join(","),functions_misc:W.join(","),gallery_image_urls:l.gallery_image_urls?l.gallery_image_urls.split(",").map(e=>e.trim()).filter(e=>e):[],pricing_options:null===(t=l.pricing_options)||void 0===t?void 0:t.map(e=>({...e,payment_link:e.payment_link||null,mode_label:e.mode_label||null}))},r=await fetch("/api/admin/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await r.json();if(!r.ok)throw Error(i.message||"Не удалось добавить товар.");e({title:"Товар добавлен",description:'Товар "'.concat(l.name,'" был успешно создан.')}),s.push("/admin/products")}catch(s){e({title:"Ошибка",description:s.message||"Произошла ошибка при добавлении товара.",variant:"destructive"})}finally{n(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-primary flex items-center",children:[(0,t.jsx)(j,{className:"mr-2 h-6 w-6"}),"Добавить новый товар"]}),(0,t.jsxs)(o.$,{onClick:()=>s.push("/admin/products"),variant:"outline",className:"border-primary text-primary hover:bg-primary/10",children:[(0,t.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"К списку товаров"]})]}),(0,t.jsx)(p.Zp,{className:"shadow-lg",children:(0,t.jsx)(p.Wu,{className:"pt-6",children:(0,t.jsxs)("form",{onSubmit:q.handleSubmit(ea),children:[(0,t.jsxs)(x.tU,{defaultValue:"general",className:"w-full",children:[(0,t.jsxs)(x.j7,{className:"grid w-full grid-cols-2 md:grid-cols-3 lg:grid-cols-6 mb-6",children:[(0,t.jsxs)(x.Xi,{value:"general",children:[(0,t.jsx)(b.A,{className:"mr-1.5 h-4 w-4"}),"Общие"]}),(0,t.jsxs)(x.Xi,{value:"gallery",children:[(0,t.jsx)(f.A,{className:"mr-1.5 h-4 w-4"}),"Галерея"]}),(0,t.jsxs)(x.Xi,{value:"description",children:[(0,t.jsx)(y.A,{className:"mr-1.5 h-4 w-4"}),"Описание"]}),(0,t.jsxs)(x.Xi,{value:"features",children:[(0,t.jsx)(N.A,{className:"mr-1.5 h-4 w-4"}),"Функции"]}),(0,t.jsxs)(x.Xi,{value:"os",children:[(0,t.jsx)(k.A,{className:"mr-1.5 h-4 w-4"}),"ОС"]}),(0,t.jsxs)(x.Xi,{value:"pricing",children:[(0,t.jsx)(w.A,{className:"mr-1.5 h-4 w-4"}),"Стоимость"]})]}),(0,t.jsxs)(x.av,{value:"general",className:"space-y-4",children:[(0,t.jsx)(p.aR,{className:"px-0 py-2",children:(0,t.jsxs)(p.ZB,{className:"text-xl text-foreground flex items-center",children:[(0,t.jsx)(b.A,{className:"mr-2 h-5 w-5 text-primary"})," Основная информация"]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"name",className:"text-foreground",children:"Название товара"}),(0,t.jsx)(d.p,{id:"name",...q.register("name"),placeholder:"UnitHack для Warface",className:"mt-1",disabled:l}),q.formState.errors.name&&(0,t.jsx)("p",{className:"text-sm text-destructive mt-1",children:q.formState.errors.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"slug",className:"text-foreground",children:"Slug (URL)"}),(0,t.jsx)(d.p,{id:"slug",...q.register("slug"),placeholder:"unithack-warface",className:"mt-1",disabled:l}),q.formState.errors.slug&&(0,t.jsx)("p",{className:"text-sm text-destructive mt-1",children:q.formState.errors.slug.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"game_slug",className:"text-foreground",children:"Категория (Игра)"}),(0,t.jsx)(r.xI,{control:q.control,name:"game_slug",render:e=>{let{field:s}=e;return(0,t.jsxs)(u.l6,{onValueChange:s.onChange,value:s.value||"",disabled:l||R,children:[(0,t.jsx)(u.bq,{className:"w-full mt-1",children:(0,t.jsx)(u.yv,{placeholder:R?"Загрузка категорий...":"Выберите игру"})}),(0,t.jsx)(u.gC,{children:F.map(e=>(0,t.jsx)(u.eb,{value:e.slug,children:e.name},e.id))})]})}}),q.formState.errors.game_slug&&(0,t.jsx)("p",{className:"text-sm text-destructive mt-1",children:q.formState.errors.game_slug.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"status",className:"text-foreground",children:"Статус"}),(0,t.jsx)(r.xI,{control:q.control,name:"status",render:e=>{let{field:s}=e;return(0,t.jsxs)(u.l6,{onValueChange:s.onChange,value:s.value,disabled:l,children:[(0,t.jsx)(u.bq,{className:"w-full mt-1",children:(0,t.jsx)(u.yv,{placeholder:"Выберите статус"})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:"safe",children:"Безопасен (safe)"}),(0,t.jsx)(u.eb,{value:"updating",children:"На обновлении (updating)"}),(0,t.jsx)(u.eb,{value:"risky",children:"Рискованно (risky)"}),(0,t.jsx)(u.eb,{value:"unknown",children:"Неизвестно (unknown)"})]})]})}}),q.formState.errors.status&&(0,t.jsx)("p",{className:"text-sm text-destructive mt-1",children:q.formState.errors.status.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"status_text",className:"text-foreground",children:"Текст статуса (опционально)"}),(0,t.jsx)(d.p,{id:"status_text",...q.register("status_text"),placeholder:"Например, Безопасен с 01.01.2024",className:"mt-1",disabled:l})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"price_text",className:"text-foreground",children:'Текст цены (напр. "от 100₽")'}),(0,t.jsx)(d.p,{id:"price_text",...q.register("price_text"),placeholder:"от 150₽",className:"mt-1",disabled:l}),q.formState.errors.price_text&&(0,t.jsx)("p",{className:"text-sm text-destructive mt-1",children:q.formState.errors.price_text.message})]})]}),(0,t.jsxs)(x.av,{value:"gallery",className:"space-y-4",children:[(0,t.jsx)(p.aR,{className:"px-0 py-2",children:(0,t.jsxs)(p.ZB,{className:"text-xl text-foreground flex items-center",children:[(0,t.jsx)(f.A,{className:"mr-2 h-5 w-5 text-primary"})," Медиафайлы"]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"image_url",className:"text-foreground",children:"URL основного изображения"}),(0,t.jsx)(d.p,{id:"image_url",...q.register("image_url"),placeholder:"https://example.com/image.jpg",className:"mt-1",disabled:l}),q.formState.errors.image_url&&(0,t.jsx)("p",{className:"text-sm text-destructive mt-1",children:q.formState.errors.image_url.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"data_ai_hint",className:"text-foreground",children:"Подсказка для AI (для фото)"}),(0,t.jsx)(d.p,{id:"data_ai_hint",...q.register("data_ai_hint"),placeholder:"warface cheat icon",className:"mt-1",disabled:l})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"gallery_image_urls",className:"text-foreground",children:"URL изображений галереи (через запятую)"}),(0,t.jsx)(m.T,{id:"gallery_image_urls",...q.register("gallery_image_urls"),placeholder:"url1.jpg,url2.png,url3.webp",className:"mt-1 min-h-[60px]",disabled:l})]})]}),(0,t.jsxs)(x.av,{value:"description",className:"space-y-4",children:[(0,t.jsxs)(p.aR,{className:"px-0 py-2",children:[(0,t.jsxs)(p.ZB,{className:"text-xl text-foreground flex items-center",children:[(0,t.jsx)(y.A,{className:"mr-2 h-5 w-5 text-primary"})," Описание"]}),(0,t.jsx)(p.BT,{className:"text-muted-foreground",children:"Эти поля являются общими для товара. PVE/PVP специфичные детали можно указать в описании ниже или создать отдельные товары."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"short_description",className:"text-foreground",children:"Краткое описание"}),(0,t.jsx)(m.T,{id:"short_description",...q.register("short_description"),placeholder:"Краткое описание товара...",className:"mt-1 min-h-[60px]",disabled:l}),q.formState.errors.short_description&&(0,t.jsx)("p",{className:"text-sm text-destructive mt-1",children:q.formState.errors.short_description.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"long_description",className:"text-foreground",children:"Полное описание (Поддержка HTML)"}),(0,t.jsx)(m.T,{id:"long_description",...q.register("long_description"),placeholder:"Детальное описание товара, его особенности и преимущества...",className:"mt-1 min-h-[120px]",disabled:l})]})]}),(0,t.jsxs)(x.av,{value:"features",className:"space-y-6",children:[(0,t.jsxs)(p.aR,{className:"px-0 py-2",children:[(0,t.jsxs)(p.ZB,{className:"text-xl text-foreground flex items-center",children:[(0,t.jsx)(N.A,{className:"mr-2 h-5 w-5 text-primary"})," Функционал (Общий)"]}),(0,t.jsx)(p.BT,{className:"text-muted-foreground",children:"Укажите общие функции товара."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"mode",className:"text-foreground",children:"Основной режим товара (для фильтрации)"}),(0,t.jsx)(r.xI,{control:q.control,name:"mode",render:e=>{let{field:s}=e;return(0,t.jsxs)(u.l6,{onValueChange:e=>s.onChange(e===C?null:e),value:s.value||C,disabled:l,children:[(0,t.jsx)(u.bq,{className:"w-full mt-1",children:(0,t.jsx)(u.yv,{placeholder:"Выберите режим"})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:C,children:"Не указан"}),(0,t.jsx)(u.eb,{value:"PVE",children:"PVE"}),(0,t.jsx)(u.eb,{value:"PVP",children:"PVP"}),(0,t.jsx)(u.eb,{value:"BOTH",children:"BOTH (Оба)"})]})]})}}),q.formState.errors.mode&&(0,t.jsx)("p",{className:"text-sm text-destructive mt-1",children:q.formState.errors.mode.message})]}),et(T,U,B,"aim","functions_aim_title","functions_aim_description"),et(z,O,$,"wh","functions_esp_title","functions_esp_description"),et(W,Z,M,"misc","functions_misc_title","functions_misc_description")]}),(0,t.jsxs)(x.av,{value:"os",className:"space-y-4",children:[(0,t.jsx)(p.aR,{className:"px-0 py-2",children:(0,t.jsxs)(p.ZB,{className:"text-xl text-foreground flex items-center",children:[(0,t.jsx)(k.A,{className:"mr-2 h-5 w-5 text-primary"})," Системные требования"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"system_os",className:"text-foreground",children:"ОС"}),(0,t.jsx)(d.p,{id:"system_os",...q.register("system_os"),placeholder:"Windows 10/11",className:"mt-1",disabled:l})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"system_build",className:"text-foreground",children:"Сборка Windows"}),(0,t.jsx)(d.p,{id:"system_build",...q.register("system_build"),placeholder:"2004 - 22H2",className:"mt-1",disabled:l})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"system_gpu",className:"text-foreground",children:"Видеокарта"}),(0,t.jsx)(d.p,{id:"system_gpu",...q.register("system_gpu"),placeholder:"Nvidia / AMD",className:"mt-1",disabled:l})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"system_cpu",className:"text-foreground",children:"Процессор"}),(0,t.jsx)(d.p,{id:"system_cpu",...q.register("system_cpu"),placeholder:"Intel / AMD",className:"mt-1",disabled:l})]})]})]}),(0,t.jsxs)(x.av,{value:"pricing",className:"space-y-4",children:[(0,t.jsx)(p.aR,{className:"px-0 py-2",children:(0,t.jsxs)(p.ZB,{className:"text-xl text-foreground flex items-center",children:[(0,t.jsx)(w.A,{className:"mr-2 h-5 w-5 text-primary"})," Варианты цен"]})}),D.map((e,s)=>{var a,r,i,n,m,u,p,x,_,h,g,j,v,b,f,y,N,k,w,L,Y,A,F,V,C;return(0,t.jsxs)("div",{className:"space-y-3 p-4 border border-border/30 rounded-md bg-muted/20 shadow-sm",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"pricing_options.".concat(s,".duration_days"),className:"text-xs text-muted-foreground",children:"Длительность (дни)"}),(0,t.jsx)(d.p,{type:"number",...q.register("pricing_options.".concat(s,".duration_days")),className:"mt-1 h-9",disabled:l}),(null===(r=q.formState.errors.pricing_options)||void 0===r?void 0:null===(a=r[s])||void 0===a?void 0:a.duration_days)&&(0,t.jsx)("p",{className:"text-xs text-destructive mt-1",children:null===(m=q.formState.errors.pricing_options)||void 0===m?void 0:null===(n=m[s])||void 0===n?void 0:null===(i=n.duration_days)||void 0===i?void 0:i.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"pricing_options.".concat(s,".mode_label"),className:"text-xs text-muted-foreground",children:"Название режима (опционально)"}),(0,t.jsx)(d.p,{...q.register("pricing_options.".concat(s,".mode_label")),placeholder:"PVP / BattleRoyale",className:"mt-1 h-9",disabled:l}),(null===(p=q.formState.errors.pricing_options)||void 0===p?void 0:null===(u=p[s])||void 0===u?void 0:u.mode_label)&&(0,t.jsx)("p",{className:"text-xs text-destructive mt-1",children:null===(h=q.formState.errors.pricing_options)||void 0===h?void 0:null===(_=h[s])||void 0===_?void 0:null===(x=_.mode_label)||void 0===x?void 0:x.message})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"pricing_options.".concat(s,".price_gh"),className:"text-xs text-muted-foreground",children:"Цена (GH)"}),(0,t.jsx)(d.p,{type:"number",step:"0.01",...q.register("pricing_options.".concat(s,".price_gh")),className:"mt-1 h-9",disabled:l}),(null===(j=q.formState.errors.pricing_options)||void 0===j?void 0:null===(g=j[s])||void 0===g?void 0:g.price_gh)&&(0,t.jsx)("p",{className:"text-xs text-destructive mt-1",children:null===(f=q.formState.errors.pricing_options)||void 0===f?void 0:null===(b=f[s])||void 0===b?void 0:null===(v=b.price_gh)||void 0===v?void 0:v.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"pricing_options.".concat(s,".price_rub"),className:"text-xs text-muted-foreground",children:"Цена (RUB)"}),(0,t.jsx)(d.p,{type:"number",step:"0.01",...q.register("pricing_options.".concat(s,".price_rub")),className:"mt-1 h-9",disabled:l}),(null===(N=q.formState.errors.pricing_options)||void 0===N?void 0:null===(y=N[s])||void 0===y?void 0:y.price_rub)&&(0,t.jsx)("p",{className:"text-xs text-destructive mt-1",children:null===(L=q.formState.errors.pricing_options)||void 0===L?void 0:null===(w=L[s])||void 0===w?void 0:null===(k=w.price_rub)||void 0===k?void 0:k.message})]}),(0,t.jsx)("div",{className:"flex items-center justify-end",children:(0,t.jsx)(o.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>J(s),className:"text-destructive hover:bg-destructive/10 h-9 w-9",disabled:l||D.length<=1,children:(0,t.jsx)(S.A,{className:"h-4 w-4"})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"pricing_options.".concat(s,".payment_link"),className:"text-xs text-muted-foreground",children:"Ссылка на оплату (для RUB)"}),(0,t.jsx)(d.p,{type:"url",...q.register("pricing_options.".concat(s,".payment_link")),placeholder:"https://yoomoney.ru/...",className:"mt-1 h-9",disabled:l}),(null===(A=q.formState.errors.pricing_options)||void 0===A?void 0:null===(Y=A[s])||void 0===Y?void 0:Y.payment_link)&&(0,t.jsx)("p",{className:"text-xs text-destructive mt-1",children:null===(C=q.formState.errors.pricing_options)||void 0===C?void 0:null===(V=C[s])||void 0===V?void 0:null===(F=V.payment_link)||void 0===F?void 0:F.message})]})]},e.id)}),(0,t.jsxs)(o.$,{type:"button",variant:"outline",size:"sm",onClick:()=>G({duration_days:1,price_rub:0,price_gh:0,payment_link:"",mode_label:""}),disabled:l,className:"border-primary text-primary hover:bg-primary/10",children:[(0,t.jsx)(L.A,{className:"mr-2 h-4 w-4"})," Добавить вариант цены"]})]})]}),(0,t.jsx)("div",{className:"flex justify-end pt-8",children:(0,t.jsxs)(o.$,{type:"submit",className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:l||R,children:[l?(0,t.jsx)(Y.A,{className:"mr-2 h-4 w-4 animate-spin"}):null,l?"Добавление...":"Добавить товар"]})})]})})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4277,7576,5521,5756,9205,8897,8991,5015,8441,1684,7358],()=>s(72117)),_N_E=e.O()}]);