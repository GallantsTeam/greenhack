{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/exo_2_40ff2aa0.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"exo_2_40ff2aa0-module__baBDUW__className\",\n  \"variable\": \"exo_2_40ff2aa0-module__baBDUW__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/exo_2_40ff2aa0.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Exo_2%22,%22arguments%22:[{%22variable%22:%22--font-exo-2%22,%22subsets%22:[%22latin%22,%22cyrillic%22],%22weight%22:[%22100%22,%22200%22,%22300%22,%22400%22,%22500%22,%22600%22,%22700%22,%22800%22,%22900%22]}],%22variableName%22:%22exo2%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Exo 2', 'Exo 2 Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,wJAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,wJAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,wJAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-primary bg-transparent text-primary hover:bg-primary/10 hover:text-primary/90\", // Updated for primary color border and text\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          // Specific styles for auth pages can be applied via a prop or context if needed,\n          // or directly on the component instance using className prop.\n          // For now, general styles are kept, and specific overrides are in globals.css @layer components.\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n\n"],"names":[],"mappings":";;;;AACA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA,iFAAiF;QACjF,8DAA8D;QAC9D,iGAAiG;QACjG;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/SearchBar.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Search, X } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nconst SearchBar = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const router = useRouter();\n  const inputRef = useRef<HTMLInputElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const handleSearchSubmit = (e?: React.FormEvent<HTMLFormElement>) => {\n    e?.preventDefault();\n    if (searchTerm.trim()) {\n      router.push(`/search?q=${encodeURIComponent(searchTerm.trim())}`);\n      // Keep it open after search, or setIsOpen(false); \n    }\n  };\n\n  const toggleSearchVisibility = () => {\n    setIsOpen(prev => !prev);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      inputRef.current?.focus();\n    }\n  }, [isOpen]);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        if (isOpen && searchTerm.trim() === '') { // Only close if empty\n          setIsOpen(false);\n        }\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen, searchTerm]);\n\n  return (\n    <div ref={containerRef} className=\"flex items-center relative\">\n      <form onSubmit={handleSearchSubmit} className={cn(\"flex items-center transition-all duration-300 ease-in-out\", isOpen ? \"w-48 md:w-56\" : \"w-0\")}>\n        {isOpen && (\n          <Input\n            ref={inputRef}\n            type=\"search\"\n            placeholder=\"Поиск игр...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"h-9 text-sm bg-card border-border focus:border-primary w-full\"\n          />\n        )}\n      </form>\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        className=\"text-primary hover:text-primary/80 hover:bg-primary/10 rounded-full p-2 ml-1\"\n        onClick={() => {\n            if (isOpen && searchTerm.trim()) {\n                handleSearchSubmit();\n            } else {\n                toggleSearchVisibility();\n            }\n        }}\n        aria-label={isOpen && searchTerm.trim() ? \"Submit search\" : \"Toggle search\"}\n      >\n        <Search className=\"h-5 w-5\" />\n        <span className=\"sr-only\">{isOpen && searchTerm.trim() ? \"Submit search\" : \"Toggle search\"}</span>\n      </Button>\n    </div>\n  );\n};\n\nexport default SearchBar;\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASA,MAAM,YAAY;;IAChB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAC1C,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAE5C,MAAM,qBAAqB,CAAC;QAC1B,GAAG;QACH,IAAI,WAAW,IAAI,IAAI;YACrB,OAAO,IAAI,CAAC,CAAC,UAAU,EAAE,mBAAmB,WAAW,IAAI,KAAK;QAChE,mDAAmD;QACrD;IACF;IAEA,MAAM,yBAAyB;QAC7B,UAAU,CAAA,OAAQ,CAAC;IACrB;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,IAAI,QAAQ;gBACV,SAAS,OAAO,EAAE;YACpB;QACF;8BAAG;QAAC;KAAO;IAEX,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,MAAM;0DAAqB,CAAC;oBAC1B,IAAI,aAAa,OAAO,IAAI,CAAC,aAAa,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBAChF,IAAI,UAAU,WAAW,IAAI,OAAO,IAAI;4BACtC,UAAU;wBACZ;oBACF;gBACF;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;uCAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC5C;;QACF;8BAAG;QAAC;QAAQ;KAAW;IAEvB,qBACE,6LAAC;QAAI,KAAK;QAAc,WAAU;;0BAChC,6LAAC;gBAAK,UAAU;gBAAoB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,6DAA6D,SAAS,iBAAiB;0BACtI,wBACC,6LAAC,oIAAA,CAAA,QAAK;oBACJ,KAAK;oBACL,MAAK;oBACL,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oBAC7C,WAAU;;;;;;;;;;;0BAIhB,6LAAC,qIAAA,CAAA,SAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,WAAU;gBACV,SAAS;oBACL,IAAI,UAAU,WAAW,IAAI,IAAI;wBAC7B;oBACJ,OAAO;wBACH;oBACJ;gBACJ;gBACA,cAAY,UAAU,WAAW,IAAI,KAAK,kBAAkB;;kCAE5D,6LAAC,yMAAA,CAAA,SAAM;wBAAC,WAAU;;;;;;kCAClB,6LAAC;wBAAK,WAAU;kCAAW,UAAU,WAAW,IAAI,KAAK,kBAAkB;;;;;;;;;;;;;;;;;;AAInF;GAvEM;;QAGW,qIAAA,CAAA,YAAS;;;KAHpB;uCAyES","debugId":null}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/contexts/AuthContext.tsx"],"sourcesContent":["\n'use client';\n\nimport React, { createContext, useContext, useEffect, useState, ReactNode, useCallback } from 'react';\nimport type { User } from '@/types'; \nimport { useRouter, usePathname } from 'next/navigation';\n\ninterface AuthContextType {\n  currentUser: User | null;\n  loading: boolean;\n  login: (emailOrLogin: string, password: string) => Promise<void>;\n  register: (username: string, email: string, password: string, referralCode?: string) => Promise<void>;\n  logout: () => void;\n  fetchUserDetails: (userId: number) => Promise<User | null>; \n  setCurrentUser: React.Dispatch<React.SetStateAction<User | null>>; \n  unreadNotificationsCount: number; // Added for global access if needed\n  fetchUnreadNotificationsCount: (userId: number) => Promise<void>; // Added\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProviderClient: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  return <>{children}</>;\n};\n\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n  const pathname = usePathname();\n  const [unreadNotificationsCount, setUnreadNotificationsCount] = useState(0); // Added state\n\n  const processUser = (user: any): User | null => {\n    if (user && user.id && user.username && user.email) {\n      let balance = 0;\n      if (typeof user.balance === 'string') {\n        balance = parseFloat(user.balance);\n      } else if (typeof user.balance === 'number') {\n        balance = user.balance;\n      }\n      if (isNaN(balance)) {\n        balance = 0;\n      }\n      return {\n        ...user,\n        balance: balance,\n      };\n    }\n    return null;\n  }\n\n  const fetchUnreadNotificationsCount = useCallback(async (userId: number) => {\n    // This function is for fetching the count specifically for the AuthContext.\n    // The UserNotificationBell component fetches its own data for display.\n    // This context state can be used if other parts of the app need the count.\n    try {\n      const response = await fetch(`/api/user/${userId}/notifications?countOnly=true&status=unread`); // API needs to support this\n      if (response.ok) {\n        const data = await response.json();\n        setUnreadNotificationsCount(data.count || 0);\n      } else {\n        // console.warn(\"AuthContext: Failed to fetch unread notifications count.\");\n        setUnreadNotificationsCount(0);\n      }\n    } catch (error) {\n      // console.error(\"AuthContext: Error fetching unread notifications count:\", error);\n      setUnreadNotificationsCount(0);\n    }\n  }, []);\n\n\n  const fetchUserDetails = useCallback(async (userId: number): Promise<User | null> => {\n    try {\n      const response = await fetch(`/api/user/${userId}/details`);\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({ message: 'Failed to fetch updated user details' }));\n        console.warn(`Failed to fetch updated user details for user ${userId}: ${errorData.message || response.statusText}`);\n        return null; \n      }\n      const data = await response.json();\n      const processedUser = processUser(data.user);\n      if (processedUser) {\n        setCurrentUser(processedUser); \n        localStorage.setItem('currentUser', JSON.stringify(processedUser)); \n        fetchUnreadNotificationsCount(processedUser.id); // Fetch count after user details are updated\n        return processedUser;\n      }\n      return null;\n    } catch (error) {\n      console.error(\"Error fetching user details:\", error);\n      return null;\n    }\n  }, [fetchUnreadNotificationsCount]);\n\n  useEffect(() => {\n    const initializeAuth = async () => {\n      setLoading(true);\n      const storedUser = localStorage.getItem('currentUser');\n      if (storedUser) {\n        try {\n          const parsedUser = JSON.parse(storedUser);\n          const processedUser = processUser(parsedUser);\n          if (processedUser && processedUser.id) {\n            const freshUser = await fetchUserDetails(processedUser.id); \n            if (freshUser) {\n              // setCurrentUser handled by fetchUserDetails\n            } else {\n              setCurrentUser(processedUser); \n              fetchUnreadNotificationsCount(processedUser.id);\n              console.warn(\"Used stored user details as fresh fetch failed.\");\n            }\n          } else {\n            localStorage.removeItem('currentUser');\n            setCurrentUser(null);\n            setUnreadNotificationsCount(0);\n          }\n        } catch (e) {\n          console.error(\"Failed to parse or refresh stored user:\", e);\n          localStorage.removeItem('currentUser');\n          setCurrentUser(null);\n          setUnreadNotificationsCount(0);\n        }\n      }\n      setLoading(false);\n    };\n    initializeAuth();\n  }, [fetchUserDetails, fetchUnreadNotificationsCount]);\n\n\n  const login = useCallback(async (emailOrLogin: string, password: string): Promise<void> => {\n    setLoading(true);\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ emailOrLogin, password }),\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || 'Login failed');\n      }\n      \n      if (data.user && data.user.id) {\n        const freshUser = await fetchUserDetails(data.user.id);\n        if (freshUser) {\n            router.push('/account');\n        } else {\n            const processedLoginUser = processUser(data.user); \n            if (processedLoginUser) {\n                setCurrentUser(processedLoginUser);\n                localStorage.setItem('currentUser', JSON.stringify(processedLoginUser));\n                fetchUnreadNotificationsCount(processedLoginUser.id);\n                router.push('/account');\n            } else {\n                throw new Error('Invalid user data received from login.');\n            }\n        }\n      } else {\n        throw new Error('Login response did not include user ID.');\n      }\n    } catch (error: any) {\n      console.error(\"Login error in AuthContext:\", error);\n      setCurrentUser(null);\n      localStorage.removeItem('currentUser');\n      setUnreadNotificationsCount(0);\n      throw error; \n    } finally {\n      setLoading(false);\n    }\n  }, [router, fetchUserDetails, fetchUnreadNotificationsCount]);\n\n  const register = useCallback(async (username: string, email: string, password: string, referralCode?: string): Promise<void> => {\n    setLoading(true);\n    try {\n      const response = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, email, password, referralCode }),\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || 'Registration failed');\n      }\n      router.push('/auth/login?registrationSuccess=true'); \n    } catch (error: any) {\n      console.error(\"Registration error in AuthContext:\", error);\n      throw error; \n    } finally {\n      setLoading(false);\n    }\n  }, [router]);\n\n  const logout = useCallback(() => {\n    setCurrentUser(null);\n    localStorage.removeItem('currentUser');\n    setUnreadNotificationsCount(0);\n    if (pathname.startsWith('/account') || pathname.startsWith('/admin')) { \n      router.push('/auth/login'); \n    } else {\n      router.push('/');\n    }\n  }, [router, pathname]);\n\n  const value = {\n    currentUser,\n    loading,\n    login,\n    register,\n    logout,\n    fetchUserDetails,\n    setCurrentUser, \n    unreadNotificationsCount, \n    fetchUnreadNotificationsCount,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = (): AuthContextType => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 593, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 632, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 783, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/hooks/use-toast.ts"],"sourcesContent":["\"use client\"\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 949, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/BalanceDepositModal.tsx"],"sourcesContent":["\n// src/components/BalanceDepositModal.tsx\n'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog';\nimport { useToast } from '@/hooks/use-toast';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Loader2, CreditCardIcon } from 'lucide-react';\nimport type { SitePaymentGatewaySettings } from '@/types';\n\nconst depositSchema = z.object({\n  amount: z.coerce.number().min(1, \"Сумма должна быть не менее 1 GH.\").max(100000, \"Максимальная сумма 100 000 GH.\"),\n});\n\ntype DepositFormValues = z.infer<typeof depositSchema>;\n\ninterface BalanceDepositModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onBalanceUpdated?: () => void; \n}\n\nconst BalanceDepositModal: React.FC<BalanceDepositModalProps> = ({ isOpen, onClose, onBalanceUpdated }) => {\n  const { toast } = useToast();\n  const { currentUser, fetchUserDetails } = useAuth();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showPendingMessage, setShowPendingMessage] = useState(false);\n  const [paymentSettings, setPaymentSettings] = useState<SitePaymentGatewaySettings | null>(null);\n  const [isLoadingSettings, setIsLoadingSettings] = useState(true);\n\n  const form = useForm<DepositFormValues>({\n    resolver: zodResolver(depositSchema),\n    defaultValues: {\n      amount: undefined,\n    },\n  });\n\n  useEffect(() => {\n    if (isOpen) { \n      setIsLoadingSettings(true);\n      setShowPendingMessage(false); // Reset pending message when modal opens\n      form.reset({amount: undefined}); // Reset form when modal opens\n      const fetchPaymentSettings = async () => {\n        try {\n          const response = await fetch('/api/admin/site-settings/payment');\n          if (!response.ok) throw new Error('Failed to fetch payment settings');\n          const data: SitePaymentGatewaySettings = await response.json();\n          setPaymentSettings(data);\n        } catch (error) {\n          console.error(\"Error fetching payment settings in modal:\", error);\n          setPaymentSettings({ is_test_mode_active: true }); \n        } finally {\n          setIsLoadingSettings(false);\n        }\n      };\n      fetchPaymentSettings();\n    }\n  }, [isOpen, form]); // Add form to dependency array to reset on open\n\n  const onSubmit = async (data: DepositFormValues) => {\n    if (!currentUser || isLoadingSettings) {\n      toast({ title: \"Ошибка\", description: \"Для пополнения баланса необходимо авторизоваться или подождать загрузки настроек.\", variant: \"destructive\" });\n      return;\n    }\n    setIsSubmitting(true);\n    setShowPendingMessage(false);\n\n    const endpoint = paymentSettings?.is_test_mode_active \n                     ? '/api/payment/request' \n                     : '/api/payment/create-yoomoney-payment';\n    \n    try {\n      const response = await fetch(endpoint, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ userId: currentUser.id, amountGh: data.amount }),\n      });\n      const result = await response.json();\n      if (!response.ok) {\n        throw new Error(result.message || \"Не удалось обработать запрос на пополнение.\");\n      }\n\n      if (paymentSettings?.is_test_mode_active) {\n        toast({ title: \"Заявка создана\", description: \"Ваша заявка на пополнение отправлена. Ожидайте подтверждения администратором.\" });\n        setShowPendingMessage(true);\n      } else {\n        toast({ title: \"Создание платежа\", description: \"Перенаправление на страницу оплаты...\" });\n        console.log(\"YooMoney Confirmation URL:\", result.confirmation_url);\n        if (result.confirmation_url) {\n          window.location.href = result.confirmation_url; \n        } else {\n           setShowPendingMessage(true); \n        }\n      }\n      form.reset();\n      if (onBalanceUpdated && currentUser?.id) onBalanceUpdated();\n      if (currentUser?.id) fetchUserDetails(currentUser.id); // Fetch details directly here too\n      // Do not close modal automatically here if it's YooMoney, let user be redirected.\n      // For test mode, keep it open to show pending message.\n      if (!paymentSettings?.is_test_mode_active && result.confirmation_url) {\n        // No automatic close if redirecting\n      } else {\n         // If test mode, or no redirect URL, it stays open or we can choose to close it after a delay if showPendingMessage is true\n      }\n\n    } catch (error: any) {\n      toast({ title: \"Ошибка пополнения\", description: error.message, variant: \"destructive\" });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleModalClose = () => {\n    if (!isSubmitting) {\n      form.reset();\n      setShowPendingMessage(false);\n      onClose();\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => { if (!open) handleModalClose(); }}>\n      <DialogContent className=\"sm:max-w-md bg-card border-border\">\n        <DialogHeader>\n          <DialogTitle className=\"text-primary flex items-center\">\n            <CreditCardIcon className=\"mr-2 h-5 w-5\" />\n            Пополнить баланс\n          </DialogTitle>\n          <DialogDescription className=\"text-muted-foreground\">\n            {isLoadingSettings ? \"Загрузка настроек...\" : \n             paymentSettings?.is_test_mode_active \n              ? \"Создайте заявку на пополнение. Администратор рассмотрит ее.\" \n              : \"Введите сумму для пополнения через YooMoney.\"}\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4 pt-4\">\n          <div>\n            <Label htmlFor=\"modal-deposit-amount\" className=\"text-foreground\">Сумма (GH)</Label>\n            <Input\n              type=\"number\"\n              id=\"modal-deposit-amount\"\n              placeholder=\"Например, 500\"\n              className=\"mt-1\"\n              {...form.register(\"amount\")}\n              disabled={isSubmitting || showPendingMessage || isLoadingSettings}\n            />\n            {form.formState.errors.amount && <p className=\"text-sm text-destructive mt-1\">{form.formState.errors.amount.message}</p>}\n          </div>\n          <Button type=\"submit\" className=\"w-full bg-primary hover:bg-primary/90 text-primary-foreground\" disabled={isSubmitting || showPendingMessage || isLoadingSettings}>\n            {isLoadingSettings ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : isSubmitting ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : null}\n            {isLoadingSettings ? \"Загрузка...\" : \n             isSubmitting ? \"Обработка...\" : \n             showPendingMessage ? (paymentSettings?.is_test_mode_active ? \"Заявка ожидает\" : \"Ожидание оплаты\") : \n             (paymentSettings?.is_test_mode_active ? \"Создать заявку\" : \"Перейти к оплате\")}\n          </Button>\n        </form>\n        {showPendingMessage && (\n            <p className=\"text-xs text-center text-yellow-500 bg-yellow-500/10 p-2 rounded-md mt-3\">\n              {paymentSettings?.is_test_mode_active \n                ? \"Баланс обновится после одобрения администратором.\"\n                : \"Для завершения пополнения, пожалуйста, следуйте инструкциям на странице оплаты.\"}\n            </p>\n        )}\n         {!showPendingMessage && !isLoadingSettings && (\n            <p className=\"text-xs text-center text-muted-foreground mt-2\">\n              {paymentSettings?.is_test_mode_active \n                ? \"1 GH = 1 рубль. Пополнение через заявку.\" \n                : \"1 GH = 1 рубль. Оплата через YooMoney Касса.\"}\n            </p>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default BalanceDepositModal;\n    \n    "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1262, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/sheet.tsx"],"sourcesContent":["\n\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-card p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\", // Changed bg-background to bg-card\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,QAAQ,qKAAA,CAAA,OAAmB;AAEjC,MAAM,eAAe,qKAAA,CAAA,UAAsB;AAE3C,MAAM,aAAa,qKAAA,CAAA,QAAoB;AAEvC,MAAM,cAAc,qKAAA,CAAA,SAAqB;AAEzC,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAsB;QACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,8LACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGlC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAsB;gBACrB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAoB;wBAAC,WAAU;;0CAC9B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yCAAyC;QACtD,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,qKAAA,CAAA,QAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA0B;QACzB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,qKAAA,CAAA,cAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1430, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1478, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,6KAAA,CAAA,SAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,6KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,6KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1555, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 1603, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/UserNotificationBell.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { Button } from '@/components/ui/button';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Badge } from '@/components/ui/badge';\nimport { Bell, CheckCheck, Loader2 } from 'lucide-react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport type { UserNotification } from '@/types';\nimport Link from 'next/link';\nimport { cn } from '@/lib/utils';\nimport { useToast } from '@/hooks/use-toast';\n\nconst UserNotificationBell: React.FC = () => {\n  const { currentUser } = useAuth();\n  const { toast } = useToast();\n  const [notifications, setNotifications] = useState<UserNotification[]>([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isPopoverOpen, setIsPopoverOpen] = useState(false);\n\n  const fetchNotifications = useCallback(async () => {\n    if (!currentUser) {\n      setNotifications([]);\n      setUnreadCount(0);\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const response = await fetch(`/api/user/${currentUser.id}/notifications`);\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({ message: 'Не удалось загрузить уведомления (статус: ' + response.status + ').' }));\n        throw new Error(errorData.message || 'Не удалось загрузить уведомления.');\n      }\n      const data: UserNotification[] = await response.json();\n      setNotifications(data);\n      setUnreadCount(data.filter(n => !n.is_read).length);\n    } catch (error: any) {\n      console.error(\"Error fetching notifications:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [currentUser]);\n\n  useEffect(() => {\n    fetchNotifications();\n  }, [currentUser, fetchNotifications]);\n  \n  useEffect(() => {\n    if (isPopoverOpen && unreadCount > 0) {\n        // Consider if auto-mark as read on open is desired or manual action only\n    }\n  }, [isPopoverOpen, unreadCount]);\n\n  const handleMarkAsRead = async (notificationId: number) => {\n    if (!currentUser) return;\n    try {\n      const response = await fetch(`/api/user/notifications/${notificationId}/read`, { method: 'PUT' });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({ message: 'Не удалось отметить уведомление как прочитанное.' }));\n        throw new Error(errorData.message);\n      }\n      fetchNotifications(); \n    } catch (error: any) {\n      toast({ variant: \"destructive\", title: \"Ошибка\", description: error.message });\n    }\n  };\n\n  const handleMarkAllAsRead = async () => {\n    if (!currentUser || unreadCount === 0) return;\n    try {\n      const response = await fetch(`/api/user/notifications/read-all`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ userId: currentUser.id }) \n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({ message: 'Не удалось отметить все уведомления как прочитанные.' }));\n        throw new Error(errorData.message);\n      }\n      fetchNotifications(); \n    } catch (error: any) {\n      toast({ variant: \"destructive\", title: \"Ошибка\", description: error.message });\n    }\n  };\n\n  const formatNotificationDate = (dateString?: string): string => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleString('ru-RU', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  if (!currentUser) {\n    return null;\n  }\n\n  return (\n    <Popover open={isPopoverOpen} onOpenChange={setIsPopoverOpen}>\n      <PopoverTrigger asChild>\n        <Button variant=\"ghost\" size=\"icon\" className=\"relative text-primary hover:text-primary/80 hover:bg-primary/10 rounded-full p-1.5 h-8 w-8 sm:h-9 sm:w-9\">\n          <Bell className=\"h-4 w-4 sm:h-5 sm:w-5\" />\n          {unreadCount > 0 && (\n            <Badge\n              variant=\"destructive\"\n              className=\"absolute -top-1 -right-1 h-4 min-w-[1rem] px-1 text-xs rounded-full flex items-center justify-center\"\n            >\n              {unreadCount > 9 ? '9+' : unreadCount}\n            </Badge>\n          )}\n          <span className=\"sr-only\">Открыть уведомления</span>\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-80 sm:w-96 p-0 bg-card border-border shadow-xl\" align=\"end\">\n        <div className=\"flex items-center justify-between p-3 border-b border-border\">\n          <h4 className=\"font-medium text-sm text-foreground\">Уведомления</h4>\n          {unreadCount > 0 && (\n            <Button variant=\"ghost\" size=\"sm\" onClick={handleMarkAllAsRead} className=\"text-xs text-primary hover:text-primary/80 h-auto py-1 px-2\">\n              <CheckCheck className=\"mr-1.5 h-3.5 w-3.5\"/>\n              Прочитать все\n            </Button>\n          )}\n        </div>\n        <ScrollArea className=\"h-[300px] sm:h-[350px]\">\n          {isLoading && notifications.length === 0 ? (\n            <div className=\"flex items-center justify-center h-full py-10\">\n              <Loader2 className=\"h-6 w-6 animate-spin text-primary\" />\n            </div>\n          ) : notifications.length === 0 ? (\n            <p className=\"text-center text-sm text-muted-foreground py-10\">Нет новых уведомлений.</p>\n          ) : (\n            <div className=\"divide-y divide-border\">\n              {notifications.map((notification) => (\n                <div\n                  key={notification.id}\n                  className={cn(\n                    \"p-3 hover:bg-muted/50 transition-colors\",\n                    !notification.is_read && \"bg-primary/5\"\n                  )}\n                >\n                  {notification.link_url ? (\n                    <Link \n                      href={notification.link_url} \n                      className=\"block\" \n                      onClick={() => {\n                        if (!notification.is_read) handleMarkAsRead(notification.id);\n                        setIsPopoverOpen(false); // Close popover on link click\n                      }}\n                    >\n                      <p className={cn(\"text-sm text-foreground\", !notification.is_read && \"font-semibold\")}>{notification.message}</p>\n                      <p className=\"text-xs text-muted-foreground mt-1\">{formatNotificationDate(notification.created_at)}</p>\n                    </Link>\n                  ) : (\n                    <div onClick={() => { if (!notification.is_read) handleMarkAsRead(notification.id); }}>\n                       <p className={cn(\"text-sm text-foreground\", !notification.is_read && \"font-semibold\")}>{notification.message}</p>\n                       <p className=\"text-xs text-muted-foreground mt-1\">{formatNotificationDate(notification.created_at)}</p>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </ScrollArea>\n      </PopoverContent>\n    </Popover>\n  );\n};\n\nexport default UserNotificationBell;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1968, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/Header.tsx"],"sourcesContent":["\n\"use client\";\nimport Link from 'next/link';\nimport { Button } from '@/components/ui/button';\nimport { LayoutGrid, Star, HelpCircle, FileText, BarChart3, UserCircle, LogOut, Key, Search as SearchIcon, Home, type LucideIcon, PlusCircle, Menu as MenuIcon, ShieldCheck, Bell } from 'lucide-react'; // Added Bell\nimport type { NavItem as CustomNavItemType, SiteSettings } from '@/types';\nimport SearchBar from '@/components/SearchBar';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport { cn } from '@/lib/utils';\nimport { useEffect, useState, useCallback } from 'react';\nimport BalanceDepositModal from '@/components/BalanceDepositModal';\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from \"@/components/ui/sheet\";\nimport { useToast } from '@/hooks/use-toast';\nimport Image from 'next/image';\nimport UserNotificationBell from '@/components/layout/UserNotificationBell'; // Import UserNotificationBell\n\nconst iconMap: { [key: string]: LucideIcon } = {\n  Home,\n  LayoutGrid,\n  Star,\n  HelpCircle,\n  FileText,\n  BarChart3,\n  ShieldCheck, \n  Bell, // Added Bell to map\n};\n\nconst staticDefaultNavItems: CustomNavItemType[] = [\n  { id: -1, label: 'Главная', href: '/', icon_name: 'Home', item_order: 0, is_visible: true },\n  { id: -2, label: 'Каталог игр', href: '/games', icon_name: 'LayoutGrid', item_order: 1, is_visible: true },\n  { id: -3, label: 'Отзывы', href: '/reviews', icon_name: 'Star', item_order: 2, is_visible: true },\n  { id: -4, label: 'FAQ', href: '/faq', icon_name: 'HelpCircle', item_order: 3, is_visible: true },\n  { id: -5, label: 'Статусы', href: '/statuses', icon_name: 'BarChart3', item_order: 4, is_visible: true },\n  { id: -7, label: 'Правовая Инфо', href: '/legal-info', icon_name: 'ShieldCheck', item_order: 5, is_visible: true }, \n];\n\nconst Logo = ({ siteName, logoUrl }: { siteName?: string | null, logoUrl?: string | null }) => {\n  const effectiveSiteName = siteName || \"GreenHacks\";\n  const siteNameParts = effectiveSiteName.split(' ');\n  const siteNameFirstPart = siteNameParts[0];\n  const siteNameSecondPart = siteNameParts.length > 1 ? siteNameParts.slice(1).join(' ') : '';\n\n  return (\n    <Link href=\"/\" className=\"flex items-center gap-1 text-2xl font-bold\">\n      <span className=\"text-primary\">{siteNameFirstPart}</span>\n      <span className=\"text-icon-color\">{siteNameSecondPart}</span>\n    </Link>\n  );\n};\n\n\nconst Header = () => {\n  const { currentUser, logout, loading: authLoading, fetchUserDetails, unreadNotificationsCount, fetchUnreadNotificationsCount } = useAuth();\n  const router = useRouter();\n  const [navItems, setNavItems] = useState<CustomNavItemType[]>([]);\n  const [siteSettings, setSiteSettings] = useState<SiteSettings | null>(null);\n  const [isDepositModalOpen, setIsDepositModalOpen] = useState(false);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const { toast } = useToast();\n  const [isLoadingNav, setIsLoadingNav] = useState(true);\n\n  const fetchHeaderData = useCallback(async () => {\n    console.log(\"[Header] Attempting to fetch nav items and site settings...\");\n    setIsLoadingNav(true);\n    try {\n      const [navResponse, settingsResponse] = await Promise.all([\n        fetch('/api/site-navigation').catch(e => { console.error(\"[Header] Nav fetch error:\", e); return { ok: false, json: () => Promise.resolve({message: \"Failed to fetch nav items\"})} as any; }),\n        fetch('/api/site-settings-public').catch(e => { console.error(\"[Header] Settings fetch error:\", e); return { ok: false, json: () => Promise.resolve({message: \"Failed to fetch site settings\"})} as any; })\n      ]);\n\n      if (settingsResponse.ok) {\n        const settingsData = await settingsResponse.json();\n        setSiteSettings(settingsData);\n      } else {\n        console.warn(\"[Header] Failed to fetch site settings.\");\n         setSiteSettings({ \n            site_name: 'Green Hack',\n            site_description: null, logo_url: null, footer_text: null,\n            contact_vk_label: null, contact_vk_url: null,\n            contact_telegram_bot_label: null, contact_telegram_bot_url: null,\n            contact_email_label: null, contact_email_address: null,\n            footer_marketplace_text: null, footer_marketplace_logo_url: null,\n            footer_marketplace_link_url: null, footer_marketplace_is_visible: true,\n            rules_page_content: null, offer_page_content: null,\n        });\n      }\n\n      if (navResponse.ok) {\n        const apiNavItems: CustomNavItemType[] = await navResponse.json();\n        console.log(\"[Header] API Nav items fetched successfully:\", apiNavItems);\n\n        if (apiNavItems && apiNavItems.length > 0) {\n          const visibleApiItems = apiNavItems.filter(item => item.is_visible);\n          let combinedItems = [...staticDefaultNavItems];\n\n          visibleApiItems.forEach(apiItem => {\n            const existingStaticIndex = combinedItems.findIndex(staticItem => staticItem.href === apiItem.href);\n            if (existingStaticIndex !== -1) {\n              combinedItems[existingStaticIndex] = { ...combinedItems[existingStaticIndex], ...apiItem };\n            } else {\n              combinedItems.push(apiItem);\n            }\n          });\n          \n          setNavItems(combinedItems.filter(item => item.is_visible).sort((a, b) => (a.item_order || 0) - (b.item_order || 0)));\n        } else {\n          console.warn(\"[Header] API for navigation items returned empty or invalid data. Using static defaults.\");\n          setNavItems(staticDefaultNavItems.filter(item => item.is_visible).sort((a, b) => (a.item_order || 0) - (b.item_order || 0)));\n        }\n      } else {\n        console.error(`[Header] Nav API Error: ${(await navResponse.json()).message || `HTTP error ${navResponse.status}`}`);\n        toast({\n          title: \"Ошибка загрузки навигации\",\n          description: \"Не удалось загрузить пункты меню. Используются стандартные.\",\n          variant: \"destructive\",\n          duration: 7000,\n        });\n        setNavItems(staticDefaultNavItems.filter(item => item.is_visible).sort((a, b) => (a.item_order || 0) - (b.item_order || 0)));\n      }\n    } catch (error: any) {\n      console.error(\"[Header] Error in fetchHeaderData catch block:\", error.message);\n      toast({\n        title: \"Ошибка загрузки данных шапки\",\n        description: \"Не удалось загрузить полную конфигурацию. Используются стандартные значения.\",\n        variant: \"destructive\",\n        duration: 7000,\n      });\n      setNavItems(staticDefaultNavItems.filter(item => item.is_visible).sort((a, b) => (a.item_order || 0) - (b.item_order || 0)));\n      setSiteSettings({ \n            site_name: 'Green Hack', site_description: null, logo_url: null, footer_text: null,\n            contact_vk_label: null, contact_vk_url: null, contact_telegram_bot_label: null, contact_telegram_bot_url: null,\n            contact_email_label: null, contact_email_address: null, footer_marketplace_text: null, footer_marketplace_logo_url: null,\n            footer_marketplace_link_url: null, footer_marketplace_is_visible: true,\n            rules_page_content: null, offer_page_content: null,\n        });\n    } finally {\n      setIsLoadingNav(false);\n    }\n  }, [toast]);\n\n  useEffect(() => {\n    fetchHeaderData();\n    if (currentUser?.id) {\n      fetchUnreadNotificationsCount(currentUser.id); // Initial fetch for AuthContext\n    }\n  }, [fetchHeaderData, currentUser?.id, fetchUnreadNotificationsCount]);\n\n  const handleLogout = () => {\n    logout();\n    setIsMobileMenuOpen(false);\n  };\n\n  const formatBalance = (balance: number | undefined | null): string => {\n    if (typeof balance !== 'number' || balance === null || isNaN(balance)) {\n      return '0';\n    }\n    return Math.floor(balance).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n  };\n\n  const onBalanceUpdated = () => {\n    if (currentUser?.id) {\n      fetchUserDetails(currentUser.id);\n      fetchUnreadNotificationsCount(currentUser.id); // Re-fetch count on balance update\n    }\n  };\n  \n  const closeMobileMenu = () => setIsMobileMenuOpen(false);\n\n  const MobileNavContent = () => (\n    <nav className=\"flex flex-col h-full\">\n      <div className=\"flex-grow px-2 py-4 space-y-1\">\n        {navItems.map((item) => {\n          const IconComponent = item.icon_name ? iconMap[item.icon_name] : null;\n          return (\n            <Button key={item.id || item.label} asChild variant=\"ghost\" className=\"w-full justify-start text-foreground/80 hover:text-primary hover:bg-primary/10\" onClick={closeMobileMenu}>\n              <Link href={item.href} className=\"flex items-center gap-2.5 text-sm\">\n                {IconComponent && <IconComponent className=\"h-5 w-5 text-primary\" />}\n                {item.label}\n              </Link>\n            </Button>\n          );\n        })}\n      </div>\n      {currentUser && (\n        <div className=\"p-4 border-t border-border space-y-3\">\n           <div className=\"flex items-center justify-between p-2 rounded-md bg-muted/50 border border-border text-sm\">\n              <div>\n                <span className=\"font-semibold text-foreground\">{formatBalance(currentUser.balance)}</span>\n                <span className=\"text-gradient-gh font-bold ml-1\">GH</span>\n              </div>\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7 p-0 text-primary hover:text-primary/80\" onClick={() => {setIsDepositModalOpen(true); closeMobileMenu();}}>\n                <PlusCircle className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Пополнить баланс</span>\n              </Button>\n            </div>\n           <Button asChild variant=\"outline\" className=\"w-full border-primary text-primary hover:bg-primary/10\" onClick={closeMobileMenu}>\n              <Link href=\"/account\">\n                <UserCircle className=\"mr-2 h-5 w-5\" />\n                Личный кабинет\n              </Link>\n            </Button>\n          <Button onClick={handleLogout} variant=\"outline\" className=\"w-full border-destructive text-destructive hover:bg-destructive/10\">\n            <LogOut className=\"mr-2 h-5 w-5\" />\n            Выйти\n          </Button>\n        </div>\n      )}\n      {!currentUser && (\n        <div className=\"p-4 border-t border-border\">\n          <Button asChild variant=\"default\" className=\"w-full bg-primary text-primary-foreground\" onClick={closeMobileMenu}>\n            <Link href=\"/auth/login\">\n              <Key className=\"mr-2 h-5 w-5\" />\n              Войти / Регистрация\n            </Link>\n          </Button>\n        </div>\n      )}\n    </nav>\n  );\n\n\n  return (\n    <>\n      <header className=\"bg-card/90 backdrop-blur-md shadow-lg sticky top-0 z-50 border-b border-border/50\">\n        <div className=\"container mx-auto px-2 sm:px-4 py-2.5 flex items-center justify-between\">\n          {/* Mobile Burger Menu */}\n          <div className=\"lg:hidden\">\n            <Sheet open={isMobileMenuOpen} onOpenChange={setIsMobileMenuOpen}>\n              <SheetTrigger asChild>\n                <Button variant=\"ghost\" size=\"icon\" className=\"text-primary hover:text-primary/80 hover:bg-primary/10\">\n                  <MenuIcon className=\"h-6 w-6\" />\n                  <span className=\"sr-only\">Открыть меню</span>\n                </Button>\n              </SheetTrigger>\n              <SheetContent side=\"left\" className=\"w-full max-w-xs p-0 bg-card text-card-foreground border-r border-border flex flex-col\">\n                <SheetHeader className=\"p-4 border-b border-border\">\n                  <SheetTitle><Logo siteName={siteSettings?.site_name} logoUrl={siteSettings?.logo_url} /></SheetTitle>\n                </SheetHeader>\n                <MobileNavContent />\n              </SheetContent>\n            </Sheet>\n          </div>\n\n          {/* Desktop Logo (hidden on mobile), Mobile Logo (visible on mobile, centered) */}\n          <div className=\"hidden lg:flex\">\n            <Logo siteName={siteSettings?.site_name} logoUrl={siteSettings?.logo_url} />\n          </div>\n          <div className=\"lg:hidden absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2\">\n             <Logo siteName={siteSettings?.site_name} logoUrl={siteSettings?.logo_url} />\n          </div>\n\n\n          {/* Desktop Navigation */}\n          <nav className=\"hidden lg:flex items-center space-x-1\">\n            {isLoadingNav ? (\n              Array.from({ length: staticDefaultNavItems.length }).map((_, index) => (\n                <div key={index} className=\"h-7 w-20 bg-muted/50 rounded-md animate-pulse\"></div>\n              ))\n            ) : navItems.map((item) => {\n              const IconComponent = item.icon_name ? iconMap[item.icon_name] : null;\n              return (\n                <Button key={item.id || item.label} asChild variant=\"ghost\" className=\"text-icon-color hover:text-primary hover:bg-primary/10 px-2.5 py-1.5 h-auto\">\n                  <Link href={item.href} className=\"flex items-center gap-1.5 text-xs xl:text-sm\">\n                    {IconComponent && <IconComponent className=\"h-4 w-4 text-primary\" />}\n                    {item.label}\n                  </Link>\n                </Button>\n              );\n            })}\n          </nav>\n\n          {/* Right side: Search and Auth/User block */}\n          <div className=\"flex items-center space-x-1 md:space-x-2\">\n            <div className=\"hidden sm:flex\"> \n                <SearchBar />\n            </div>\n            {currentUser && <UserNotificationBell />} {/* Render UserNotificationBell here */}\n            {authLoading ? (\n              <div className=\"h-9 w-24 md:w-36 bg-muted rounded-md animate-pulse\"></div>\n            ) : currentUser ? (\n              <div className=\"hidden lg:flex items-center space-x-1\"> \n                <div className=\"flex items-center space-x-1 px-2 py-1.5 rounded-md bg-muted/50 border border-border text-xs\">\n                  <span className=\"font-semibold text-foreground\">{formatBalance(currentUser.balance)}</span>\n                  <span className=\"text-gradient-gh font-bold ml-1\">GH</span>\n                   <Button variant=\"ghost\" size=\"icon\" className=\"h-5 w-5 p-0 ml-1 text-primary hover:text-primary/80\" onClick={() => setIsDepositModalOpen(true)}>\n                    <PlusCircle className=\"h-3.5 w-3.5\" />\n                    <span className=\"sr-only\">Пополнить баланс</span>\n                  </Button>\n                </div>\n                <Button asChild variant=\"ghost\" className=\"text-icon-color hover:text-primary hover:bg-primary/10 px-2 py-1.5 h-auto\">\n                  <Link href=\"/account\" className=\"flex items-center gap-1.5 text-xs xl:text-sm\">\n                    <UserCircle className=\"h-4 w-4 text-primary\" />\n                    {currentUser.username}\n                  </Link>\n                </Button>\n                <Button onClick={handleLogout} variant=\"ghost\" size=\"icon\" className=\"text-primary hover:text-primary/80 hover:bg-primary/10 rounded-full p-1.5 h-8 w-8 sm:h-9 sm:w-9\" aria-label=\"Выйти\">\n                  <LogOut className=\"h-4 w-4 sm:h-5 sm:w-5\" />\n                </Button>\n              </div>\n            ) : (\n              <Button asChild variant=\"ghost\" size=\"icon\" className=\"text-primary hover:text-primary/80 hover:bg-primary/10 rounded-full p-1.5 h-8 w-8 sm:h-9 sm:w-9\">\n                <Link href=\"/auth/login\" aria-label=\"Авторизация\">\n                    <Key className=\"h-4 w-4 sm:h-5 sm:w-5\" />\n                </Link>\n              </Button>\n            )}\n             <div className=\"sm:hidden\"> \n                <SearchBar />\n            </div>\n          </div>\n        </div>\n      </header>\n      {currentUser && (\n        <BalanceDepositModal\n          isOpen={isDepositModalOpen}\n          onClose={() => setIsDepositModalOpen(false)}\n          onBalanceUpdated={onBalanceUpdated}\n        />\n      )}\n    </>\n  );\n};\n\nexport default Header;\n    \n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2874, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/Footer.tsx"],"sourcesContent":["\n'use client';\nimport Link from 'next/link';\nimport { LayoutGrid, Star, HelpCircle, FileText, BarChart3, Copyright, Home, Mail, Users, Phone, MapPin, Bot, MessageCircle, ShoppingBag, ShieldCheck as ShieldCheckIcon } from 'lucide-react'; // Added ShieldCheckIcon\nimport type { NavItem as CustomNavItemType, SiteSettings } from '@/types';\nimport { useEffect, useState } from 'react';\nimport Image from 'next/image';\nimport { cn } from '@/lib/utils';\n\nconst iconMap: { [key: string]: React.ElementType } = {\n  Home,\n  LayoutGrid,\n  Star,\n  HelpCircle,\n  FileText,\n  BarChart3,\n  Mail,\n  Users, \n  Phone,\n  MapPin,\n  Bot, \n  MessageCircle,\n  ShoppingBag,\n  ShieldCheck: ShieldCheckIcon, // Added ShieldCheck\n};\n\nconst staticDefaultNavItems: CustomNavItemType[] = [\n    { id: -1, label: 'Главная', href: '/', icon_name: 'Home', item_order: 0, is_visible: true },\n    { id: -2, label: 'Каталог игр', href: '/games', icon_name: 'LayoutGrid', item_order: 1, is_visible: true },\n    { id: -3, label: 'Отзывы', href: '/reviews', icon_name: 'Star', item_order: 2, is_visible: true },\n    { id: -4, label: 'FAQ', href: '/faq', icon_name: 'HelpCircle', item_order: 3, is_visible: true },\n    { id: -5, label: 'Правила', href: '/rules', icon_name: 'FileText', item_order: 4, is_visible: true }, // Added Rules\n    { id: -7, label: 'Оферта', href: '/offer', icon_name: 'ShieldCheck', item_order: 6, is_visible: true }, // Added Offer\n    { id: -6, label: 'Статусы', href: '/statuses', icon_name: 'BarChart3', item_order: 5, is_visible: true },\n];\n\n\nconst Footer = ({ simplified = false }: { simplified?: boolean }) => {\n  const [siteSettings, setSiteSettings] = useState<SiteSettings | null>(null);\n  const [navItems, setNavItems] = useState<CustomNavItemType[]>(staticDefaultNavItems.filter(item => item.is_visible).sort((a,b) => (a.item_order || 0) - (b.item_order || 0)));\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const settingsRes = await fetch('/api/site-settings-public');\n\n        if (settingsRes.ok) {\n          setSiteSettings(await settingsRes.json());\n        } else {\n          console.warn(\"Footer: Failed to fetch site settings.\");\n          setSiteSettings({\n            site_name: 'Green Hack',\n            site_description: null,\n            logo_url: null,\n            footer_text: `© ${new Date().getFullYear()} Green Hack. Все права защищены.`,\n            contact_vk_label: 'Наша беседа VK',\n            contact_vk_url: '#',\n            contact_telegram_bot_label: 'Наш Telegram Бот',\n            contact_telegram_bot_url: '#',\n            contact_email_label: 'Email поддержки',\n            contact_email_address: 'support@example.com',\n            footer_marketplace_text: 'Мы продаем на:',\n            footer_marketplace_logo_url: 'https://yougame.biz/images/rlm/logo/logoconcept4.png',\n            footer_marketplace_link_url: 'https://yougame.biz/members/263428/',\n            footer_marketplace_is_visible: true,\n            rules_page_content: null,\n            offer_page_content: null,\n          });\n        }\n        \n      } catch (error) {\n        console.error(\"Error fetching footer data:\", error);\n         setSiteSettings({\n            site_name: 'Green Hack',\n            site_description: null,\n            logo_url: null,\n            footer_text: `© ${new Date().getFullYear()} Green Hack. Все права защищены.`,\n            contact_vk_label: 'Наша беседа VK',\n            contact_vk_url: '#',\n            contact_telegram_bot_label: 'Наш Telegram Бот',\n            contact_telegram_bot_url: '#',\n            contact_email_label: 'Email поддержки',\n            contact_email_address: 'support@example.com',\n            footer_marketplace_text: 'Мы продаем на:',\n            footer_marketplace_logo_url: 'https://yougame.biz/images/rlm/logo/logoconcept4.png',\n            footer_marketplace_link_url: 'https://yougame.biz/members/263428/',\n            footer_marketplace_is_visible: true,\n            rules_page_content: null,\n            offer_page_content: null,\n          });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  if (simplified) {\n    return (\n      <footer className=\"text-center text-xs text-muted-foreground py-3 border-t border-border bg-card mt-auto md:fixed md:bottom-0 md:left-0 md:right-0 md:ml-64\">\n        <p className=\"flex items-center justify-center\">\n          <Copyright className=\"h-4 w-4 mr-1.5\" /> \n          © {new Date().getFullYear()}&#8209;{new Date().getFullYear() + 1} {siteSettings?.site_name || \"GreenHacks\"}. Все права защищены.\n        </p>\n        <p className=\"mt-1 text-sm\">\n          <a href=\"https://gallants.ru/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center justify-center\">\n            Разработано: <span className=\"text-destructive animate-red-blink font-semibold ml-1\">GallantTeam</span>\n          </a>\n        </p>\n      </footer>\n    );\n  }\n\n  const currentSiteName = siteSettings?.site_name || 'GreenHacks';\n  const siteNameParts = currentSiteName.split(' ');\n  const siteNameFirstPart = siteNameParts[0];\n  const siteNameSecondPart = siteNameParts.length > 1 ? siteNameParts.slice(1).join(' ') : '';\n\n  return (\n    <footer className=\"bg-background border-t border-border py-8 mt-auto\">\n      <div className=\"container mx-auto px-4 text-muted-foreground\">\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8\">\n          {/* Site Info Section (Left Column on MD+) */}\n          <div className=\"md:col-span-1\">\n              <h3 className=\"text-lg font-bold text-foreground mb-2\">\n                {siteSettings?.logo_url ? (\n                  <Image src={siteSettings.logo_url} alt={currentSiteName} width={150} height={40} className=\"max-h-10 w-auto\" data-ai-hint=\"site logo\"/>\n                ) : (\n                  <>\n                    <span className=\"text-primary\">{siteNameFirstPart}</span>\n                    <span className=\"text-icon-color\">{siteNameSecondPart}</span>\n                  </>\n                )}\n              </h3>\n              <p className=\"text-sm mb-4 max-w-md\">\n                {siteSettings?.site_description || \"Широкий выбор читов для популярных игр. Повысьте свою эффективность и шансы на победу!\"}\n              </p>\n          </div>\n\n          {/* Marketplace Block (Middle Column on MD+) */}\n          {siteSettings?.footer_marketplace_is_visible && siteSettings.footer_marketplace_logo_url && (\n            <div className=\"md:col-span-1 text-center\">\n              <p className=\"text-sm font-semibold text-foreground mb-2\">\n                {siteSettings.footer_marketplace_text || \"Мы продаем на:\"}\n              </p>\n              <a \n                href={siteSettings.footer_marketplace_link_url || \"#\"} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"inline-block hover:opacity-80 transition-opacity\"\n              >\n                <Image \n                  src={siteSettings.footer_marketplace_logo_url} \n                  alt=\"Marketplace Logo\" \n                  width={180} \n                  height={45} \n                  className=\"max-h-12 w-auto\"\n                  data-ai-hint=\"marketplace logo\"\n                />\n              </a>\n            </div>\n          )}\n           {/* Placeholder if marketplace is not visible, to maintain grid structure on MD+ */}\n           {(!siteSettings?.footer_marketplace_is_visible || !siteSettings.footer_marketplace_logo_url) && (\n            <div className=\"hidden md:block md:col-span-1\"></div>\n           )}\n\n\n          {/* Contact Us Section (Right Column on MD+) */}\n          <div className=\"md:col-span-1 md:text-right\">\n              <h3 className=\"text-lg font-bold text-foreground mb-3\">Связь с нами</h3>\n              <ul className=\"space-y-2\">\n                {siteSettings?.contact_vk_url && siteSettings?.contact_vk_label && (\n                  <li>\n                    <a href={siteSettings.contact_vk_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center md:justify-end text-sm hover:text-primary transition-colors\">\n                      <Users className=\"h-4 w-4 mr-2 md:mr-0 md:ml-2 md:order-2 text-primary\" /> {siteSettings.contact_vk_label}\n                    </a>\n                  </li>\n                )}\n                {siteSettings?.contact_telegram_bot_url && siteSettings?.contact_telegram_bot_label && (\n                  <li>\n                    <a href={siteSettings.contact_telegram_bot_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center md:justify-end text-sm hover:text-primary transition-colors\">\n                      <Bot className=\"h-4 w-4 mr-2 md:mr-0 md:ml-2 md:order-2 text-primary\" /> {siteSettings.contact_telegram_bot_label}\n                    </a>\n                  </li>\n                )}\n                {siteSettings?.contact_email_address && siteSettings?.contact_email_label && (\n                  <li>\n                    <a href={`mailto:${siteSettings.contact_email_address}`} className=\"inline-flex items-center md:justify-end text-sm hover:text-primary transition-colors\">\n                      <Mail className=\"h-4 w-4 mr-2 md:mr-0 md:ml-2 md:order-2 text-primary\" /> {siteSettings.contact_email_label}\n                    </a>\n                  </li>\n                )}\n              </ul>\n          </div>\n        </div>\n\n        {navItems.length > 0 && (\n          <div className=\"border-t border-border pt-6 mb-6\">\n            <nav className=\"flex flex-wrap justify-center gap-x-4 gap-y-2 md:gap-x-6\">\n              {isLoading && !siteSettings ? (\n                  Array.from({ length: 6 }).map((_, index) => ( // Increased to 6 for Rules/Offer\n                      <div key={index} className=\"h-5 w-24 bg-muted rounded animate-pulse\"></div>\n                  ))\n              ) : navItems.length > 0 ? (\n                  navItems.map((item) => {\n                  const IconComponent = item.icon_name ? iconMap[item.icon_name] : null;\n                  return (\n                      <Link key={item.id || item.label} href={item.href} className=\"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-primary transition-colors\">\n                      {IconComponent && <IconComponent className=\"h-4 w-4 text-primary/80\" />}\n                      {item.label}\n                      </Link>\n                  );\n                  })\n              ) : null}\n            </nav>\n          </div>\n        )}\n\n        <div className=\"border-t border-border pt-6 text-center\">\n          <p className=\"text-sm\">\n            <Copyright className=\"inline h-4 w-4 mr-1 align-text-bottom\" /> \n            {siteSettings?.footer_text || `2025​-​2026 ${currentSiteName}. Все права защищены.`}\n          </p>\n          <p className=\"mt-1 text-sm\"> \n            <a href=\"https://gallants.ru/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center justify-center\">\n              Разработано: <span className=\"text-destructive animate-red-blink font-semibold ml-1\">GallantTeam</span>\n            </a>\n          </p>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3453, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/toast.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,gBAAgB,oKAAA,CAAA,WAAwB;AAE9C,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qIACA;QAED,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG,oKAAA,CAAA,WAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAI3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnC,qBACE,6LAAC,oKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;;AACA,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,SAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sgBACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,oKAAA,CAAA,SAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,6LAAC,+LAAA,CAAA,IAAC;YAAC,WAAU;;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,oKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,oKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sBAAsB;QACnC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,oKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3588, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/toaster.tsx"],"sourcesContent":["\"use client\"\n\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAYO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,WAAQ,AAAD;IAE1B,qBACE,6LAAC,oIAAA,CAAA,gBAAa;;YACX,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO;gBAChE,qBACE,6LAAC,oIAAA,CAAA,QAAK;oBAAW,GAAG,KAAK;;sCACvB,6LAAC;4BAAI,WAAU;;gCACZ,uBAAS,6LAAC,oIAAA,CAAA,aAAU;8CAAE;;;;;;gCACtB,6BACC,6LAAC,oIAAA,CAAA,mBAAgB;8CAAE;;;;;;;;;;;;wBAGtB;sCACD,6LAAC,oIAAA,CAAA,aAAU;;;;;;mBARD;;;;;YAWhB;0BACA,6LAAC,oIAAA,CAAA,gBAAa;;;;;;;;;;;AAGpB;GAtBgB;;QACK,+HAAA,CAAA,WAAQ;;;KADb","debugId":null}},
    {"offset": {"line": 3673, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/layout.tsx"],"sourcesContent":["\n'use client';\n\nimport { Exo_2 } from 'next/font/google'; \nimport './globals.css';\nimport Header from '@/components/layout/Header';\nimport Footer from '@/components/layout/Footer';\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { AuthProvider } from '@/contexts/AuthContext';\nimport { usePathname } from 'next/navigation';\nimport { cn } from '@/lib/utils';\n// import CustomCursor from '@/components/CustomCursor'; // Temporarily disable custom cursor\nimport React, { useEffect, useState } from 'react';\n\nconst exo2 = Exo_2({ \n  variable: '--font-exo-2',\n  subsets: ['latin', 'cyrillic'],\n  weight: ['100', '200', '300', '400', '500', '600', '700', '800', '900'], \n});\n\n// This wrapper component is needed to use usePathname in a Server Component context (RootLayout)\nfunction RootLayoutClientWrapper({ children }: { children: React.ReactNode }) {\n  const pathname = usePathname();\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  const isAdminPage = isMounted && pathname?.startsWith('/admin');\n  const isAuthPage = isMounted && pathname?.startsWith('/auth');\n  const isHomePage = isMounted && pathname === '/';\n\n  const clientShouldShowHeaderFooter = !isAdminPage && !isAuthPage;\n  const clientFooterSimplified = isMounted && pathname?.startsWith('/account');\n  \n  let showPaddingTop = false;\n  if (isMounted) {\n    showPaddingTop = clientShouldShowHeaderFooter &&\n                     !isHomePage &&\n                     !pathname?.startsWith('/games') && \n                     pathname !== '/statuses' &&\n                     pathname !== '/reviews';\n  }\n\n  const mainClasses = cn(\n    \"flex-grow flex flex-col\",\n    showPaddingTop ? \"pt-14\" : \"\", \n    isAdminPage ? \"overflow-y-hidden\" : \"overflow-y-auto\" \n  );\n  \n  return (\n    <html lang=\"ru\" className={cn(exo2.variable, isAdminPage ? \"dark\" : \"\")}> \n      <head>\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"anonymous\" />\n        <link href=\"https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&display=swap\" rel=\"stylesheet\" />\n      </head>\n      <body\n        className={cn( \n          \"antialiased flex flex-col min-h-screen bg-background text-foreground font-sans\" \n        )}\n      >\n        <AuthProvider>\n          {/* <CustomCursor /> */} {/* Custom cursor is currently commented out globally */}\n          \n          {isMounted && clientShouldShowHeaderFooter && <Header />}\n\n          <main className={mainClasses}>\n            {children}\n          </main>\n\n          {isMounted && clientShouldShowHeaderFooter && <Footer simplified={clientFooterSimplified} />}\n          \n          <Toaster />\n        </AuthProvider>\n      </body>\n    </html>\n  );\n}\n\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return <RootLayoutClientWrapper>{children}</RootLayoutClientWrapper>;\n}\n    \n    \n    "],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,6FAA6F;AAC7F;;;AAXA;;;;;;;;;;AAmBA,iGAAiG;AACjG,SAAS,wBAAwB,EAAE,QAAQ,EAAiC;;IAC1E,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6CAAE;YACR,aAAa;QACf;4CAAG,EAAE;IAEL,MAAM,cAAc,aAAa,UAAU,WAAW;IACtD,MAAM,aAAa,aAAa,UAAU,WAAW;IACrD,MAAM,aAAa,aAAa,aAAa;IAE7C,MAAM,+BAA+B,CAAC,eAAe,CAAC;IACtD,MAAM,yBAAyB,aAAa,UAAU,WAAW;IAEjE,IAAI,iBAAiB;IACrB,IAAI,WAAW;QACb,iBAAiB,gCACA,CAAC,cACD,CAAC,UAAU,WAAW,aACtB,aAAa,eACb,aAAa;IAChC;IAEA,MAAM,cAAc,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACnB,2BACA,iBAAiB,UAAU,IAC3B,cAAc,sBAAsB;IAGtC,qBACE,6LAAC;QAAK,MAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4IAAA,CAAA,UAAI,CAAC,QAAQ,EAAE,cAAc,SAAS;;0BAClE,6LAAC;;kCACC,6LAAC;wBAAK,KAAI;wBAAa,MAAK;;;;;;kCAC5B,6LAAC;wBAAK,KAAI;wBAAa,MAAK;wBAA4B,aAAY;;;;;;kCACpE,6LAAC;wBAAK,MAAK;wBAA8F,KAAI;;;;;;;;;;;;0BAE/G,6LAAC;gBACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV;0BAGF,cAAA,6LAAC,kIAAA,CAAA,eAAY;;wBACa;wBAEvB,aAAa,8CAAgC,6LAAC,yIAAA,CAAA,UAAM;;;;;sCAErD,6LAAC;4BAAK,WAAW;sCACd;;;;;;wBAGF,aAAa,8CAAgC,6LAAC,yIAAA,CAAA,UAAM;4BAAC,YAAY;;;;;;sCAElE,6LAAC,sIAAA,CAAA,UAAO;;;;;;;;;;;;;;;;;;;;;;AAKlB;GA1DS;;QACU,qIAAA,CAAA,cAAW;;;KADrB;AA6DM,SAAS,WAAW,EACjC,QAAQ,EAGR;IACA,qBAAO,6LAAC;kBAAyB;;;;;;AACnC;MANwB","debugId":null}}]
}